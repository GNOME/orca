<!-- Copyright 2005-2008, Sun Microsystems, Inc. -->

<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook V4.0//EN" "http://www.oasis-open.org/docbook/xml/4.0/docbookx.dtd"
[
<!ENTITY blurb SYSTEM "blurb.sgml">
<!ENTITY legal SYSTEM "legal.sgml">
<!ENTITY todo '<emphasis>TODO:</emphasis>'>
<!ENTITY note '<emphasis>NOTE:</emphasis>'>
<!ENTITY wkc 'well known command'>
<!ENTITY detail '<emphasis>IMPLEMENTATION DETAIL:</emphasis>'>
<!ENTITY issue '<emphasis>KNOWN ISSUE:</emphasis>'>
<!ENTITY example '<emphasis>EXAMPLE:</emphasis>'>
]
>

<book id="userguide">
  <title>Orca User's Guide</title>
  <bookinfo>
    &legal;
  </bookinfo>

  <!--
  ************************************************************************
  *                                                                      *
  * FORWARD                                                              *
  *                                                                      *
  ************************************************************************
  -->

  <preface id="ugforward"><title>Foreword</title>
    &blurb;
    <para>This book provides a guide for the installation, configuration
      and use of Orca.  It also includes details on how users can customize 
      the keyboard and braille input mappings of Orca.
    </para>
  </preface>


  <!--
  ************************************************************************
  *                                                                      *
  * INTRODUCTION                                                         *
  *                                                                      *
  ************************************************************************
  -->

  <chapter id="ugintroduction"><title>Introduction</title>

    <para>&todo; To be written.  This currently contains just the most
      important stuff you need to know.  In addition, you should always
      visit <ulink url="http://live.gnome.org/Orca">
        http://live.gnome.org/Orca</ulink> for the
      latest information and hints on using Orca.</para>

  </chapter>

  <chapter id="ugrunning"><title>Running Orca</title>

    <para>You can run Orca in many ways:</para>

    <itemizedlist>
      <listitem>
        <para>Using the <literal>orca</literal> command from a terminal
	  or virtual console.  For many users, this is the easiest and
	  most accessible way to launch Orca.</para>
      </listitem>
      <listitem>

        <para>Via the "Run Application" dialog that you can bring up
	  by pressing <literal>Alt+F2</literal>.  In this dialog, type
	  <literal>orca</literal> and press
	  <literal>Return</literal>.</para>

      </listitem>
      <listitem>

        <para>Via the "Orca Screen Reader and Magnifier" menu item
	  available from the "Accessibility" submenu off of the
	  "Applications" menu on some systems.</para>

      </listitem>
      <listitem>

        <para>For GNOME 2.16 and later, via the "Assistive Technology
	  Support" preferences dialog that you can launch from the
	  "Preferences" menu on some systems.  This will enable
	  accessibility in your environment and tell Orca to
	  automatically launch when you log in.</para>

      </listitem>
      <listitem>

        <para>Via the "Startup Programs" tab in the "Sessions" dialog
	  that you can launch from the "Preferences" menu on some
	  systems.  This will automatically launch Orca when you 
	  log in if you add <literal>orca</literal> as a startup
	  program.</para>

      </listitem>
    </itemizedlist>

    <para>When you run the <literal>orca</literal> command from a
      terminal window, you have the following options:</para>

    <programlisting>
Usage: orca [OPTION...]

-?, --help                   Show this help message
-v, --version                0.9.0
-s, --setup, --gui-setup     Set up user preferences
-t, --text-setup             Set up user preferences (text version)
-n, --no-setup               Skip set up of user preferences

If Orca has not been previously set up by the user, Orca
will automatically launch the preferences set up unless
the -n or --no-setup option is used.

Report bugs to orca-list@gnome.org.
    </programlisting>

    <para>If you have not run Orca before, it will automatically query
      you for preferences, such as whether you want to use speech,
      braille, or magnification.  These preferences are saved in
      <literal>~/.orca/user-settings.py</literal> (see material in
      the following sections for more information).</para>

    <para>&note; The GNOME accessibility environment requires
      accessibility to be enabled for your login session, which is not
      the default configuration.  The first time you run Orca, Orca
      will detect this and will enable accessibility for you.  In
      order for this to take effect, however, you still need to log
      out and log back in.</para>

    <para>To get help while running Orca, you can press
      <literal>Insert+F1</literal> to enter learn mode.  In learn
      mode, you can type any key combination and Orca will tell you
      the effects of that key combination. To exit learn mode, press
      <literal>Escape</literal>.</para>

    <para>To quit Orca, you can do any of the following:</para>

    <itemizedlist>
      <listitem>
        <para>Press <literal>Insert+Q</literal></para>
      </listitem>
      <listitem>
        <para>Enter <literal>killall -TERM orca</literal> in a 
          terminal window.  &note; if you enter <literal>killall -HUP 
	  orca</literal> in a terminal window, Orca will restart.</para> 
      </listitem>
    </itemizedlist>

    <para>&note; the main shell script to start Orca,
      <literal>/usr/bin/orca</literal>, will detect failures in Orca
      and restart it if necessary.  In addition, it will stop any
      existing Orca-related processes before starting Orca again.  
      As such, if something bad seems to have happened with Orca,
      you can force it to clean up and restart by merely launching
      Orca again via any of the methods listed previously.</para>
  </chapter>

  <chapter id="ugcustomization"><title>Customizing Orca</title>
    <para>To be written.  Include verbosity, speech rate, braille,
      braille monitor, orca modifier keys, voices, key/word echo, read
      table line, etc.</para>

    <para>To configure Orca, you can do any of the following:</para>

    <itemizedlist>
      <listitem>
        <para>Run <literal>orca --setup</literal></para>
      </listitem>
      <listitem>
        <para>Press <literal>Insert+Space</literal> while Orca is 
          running</para>
      </listitem>
    </itemizedlist>

    <para>When you configure Orca, it will create
      <literal>~/.orca/user-settings.py</literal>.  You can edit this
      file using a text editor, but be aware that it will be
      overwritten the next time you configure Orca.  If you wish to
      have more persistent settings for Orca, you can create
      <literal>~/.orca/orca-customizations.py</literal>.  If this file
      exists (you need to create it if you want one),
      <literal>~/.orca/user-settings.py</literal> will import it each
      time the settings are reloaded.  You can force Orca to reload
      the settings by pressing
      <literal>Ctrl+Insert+Space</literal>.</para>

    <para>The contents of a typical 
      <literal>~/.orca/user-settings.py</literal> look similar to the
      following:</para>

<programlisting>
# user-settings.py - custom Orca settings
# Generated by orca.  DO NOT EDIT THIS FILE!!!
# If you want permanent customizations that will not
# be overwritten, edit orca-customizations.py.
#
import re
import time

import orca.debug
import orca.settings
import orca.acss

#orca.debug.debugLevel = orca.debug.LEVEL_OFF
orca.debug.debugLevel = orca.debug.LEVEL_SEVERE
#orca.debug.debugLevel = orca.debug.LEVEL_WARNING
#orca.debug.debugLevel = orca.debug.LEVEL_INFO
#orca.debug.debugLevel = orca.debug.LEVEL_CONFIGURATION
#orca.debug.debugLevel = orca.debug.LEVEL_FINE
#orca.debug.debugLevel = orca.debug.LEVEL_FINER
#orca.debug.debugLevel = orca.debug.LEVEL_FINEST
#orca.debug.debugLevel = orca.debug.LEVEL_ALL

#orca.debug.eventDebugLevel = orca.debug.LEVEL_OFF
#orca.debug.eventDebugFilter =  None
#orca.debug.eventDebugFilter = re.compile('[\S]*focus|[\S]*activ')
#orca.debug.eventDebugFilter = re.compile('nomatch')
#orca.debug.eventDebugFilter = re.compile('[\S]*:accessible-name')

#orca.debug.debugFile = open(time.strftime('debug-%Y-%m-%d-%H:%M:%S.out'), 'w', 0)
#orca.debug.debugFile = open('debug.out', 'w', 0)

#orca.settings.useBonoboMain=False
#orca.settings.debugEventQueue=True
#orca.settings.gilSleepTime=0

if False:
    import sys
    import orca.util
    sys.settrace(orca.util.traceit)
    orca.debug.debugLevel = orca.debug.LEVEL_ALL

orca.settings.orcaModifierKeys = ['Insert', 'KP_Insert']
orca.settings.enableSpeech = True
orca.settings.speechServerFactory = 'orca.gnomespeechfactory'
orca.settings.speechServerInfo = ['Fonix DECtalk GNOME Speech Driver', 'OAFIID:GNOME_Speech_SynthesisDriver_Dectalk:proto0.3']
orca.settings.voices = {
'default' : orca.acss.ACSS({'average-pitch': 5.0,
 'family': {'locale': 'english', 'gender': None, 'name': 'Paul'},
 'gain': 9,
 'rate': 85.0}),
'uppercase' : orca.acss.ACSS({'average-pitch': 6}),
'hyperlink' : orca.acss.ACSS({'average-pitch': 2}),
}
orca.settings.speechVerbosityLevel = orca.settings.VERBOSITY_LEVEL_VERBOSE
orca.settings.readTableCellRow = True
orca.settings.enableSpeechIndentation = False
orca.settings.enableEchoByWord = True
orca.settings.enableKeyEcho = True
orca.settings.enablePrintableKeys = False
orca.settings.enableModifierKeys = False
orca.settings.enableLockingKeys = True
orca.settings.enableFunctionKeys = False
orca.settings.enableActionKeys = False
orca.settings.enableBraille = False
orca.settings.enableBrailleGrouping = False
orca.settings.brailleVerbosityLevel = orca.settings.VERBOSITY_LEVEL_VERBOSE
orca.settings.brailleRolenameStyle = orca.settings.BRAILLE_ROLENAME_STYLE_LONG
orca.settings.enableBrailleMonitor = False
orca.settings.enableMagnifier = False
orca.settings.enableMagCursor = True
orca.settings.enableMagCursorExplicitSize = False
orca.settings.magCursorSize = 32
orca.settings.magCursorColor = '#000000'
orca.settings.enableMagCrossHair = True
orca.settings.enableMagCrossHairClip = False
orca.settings.magCrossHairSize = 16
orca.settings.magZoomerLeft = 512
orca.settings.magZoomerRight = 1014
orca.settings.magZoomerTop = 0
orca.settings.magZoomerBottom = 758
orca.settings.magZoomFactor = 4
orca.settings.enableMagColorInversion = False
orca.settings.magSmoothingMode = orca.settings.MAG_SMOOTHING_MODE_BILINEAR
orca.settings.magMouseTrackingMode = orca.settings.MAG_MOUSE_TRACKING_MODE_CENTERED
orca.settings.verbalizePunctuationStyle = orca.settings.PUNCTUATION_STYLE_MOST

try:
    __import__("orca-customizations")
except ImportError:
    pass
</programlisting>

    <section id="ugmodkeys"><title><literal>orcaModifierKeys</literal> - Override "Insert" as Orca Modifier Key</title>

      <para>Orca defines keystrokes for the
        keypad and also makes special used of the
        <literal>Insert</literal> key as the Orca modifier key.  Orca
        also provides an <literal>orcaModifierKeys</literal>
        customization setting to allow the user to override
        <literal>Insert</literal> as the Orca modifier key.  This
        setting contains a list of key strings that represent the key
        to be used as the Orca modifier key.  For example, the
        following example specifies that the keyboard
        <literal>Insert</literal> key (typically near the
        <literal>Delete</literal> key) and the keypad
        <literal>Insert</literal> key (typically the 0 key) are to
        both act as the Orca modifier key:</para>

<programlisting> 
orca.settings.orcaModifierKeys = ["Insert", "KP_Insert"] 
</programlisting>

      <para>You can override this setting in your
        <literal>~/.orca/orca-customizations.py</literal> module if
        you wish.</para>

    </section>
  </chapter>
</book>
