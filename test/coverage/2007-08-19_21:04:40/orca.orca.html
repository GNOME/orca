<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <title>Coverage Report - orca.orca</title>
  <link title="Style" type="text/css" rel="stylesheet" href="trace2html.css"/>
  <script type="text/javascript" src="sortabletable.js"></script>
</head>

<body>
<h1>Coverage Report - orca.orca</h1>

<table id="summary" class="summary">
<thead>
  <tr><td>Module</td><td>Coverage %</td></tr>
</thead>
<tbody>
<tr class=even>
  <td class="moduleName">
    <a href="orca.orca.html">orca.orca</a></td>
  <td class="percent">
    <div class="coveragePercent">
      43%
    </div>
    <div class="coverageBar">
      <div class="inCoverageBar" style="width: 43%">
      </div>
    </div>
  </td>
</tr>

</tbody>
</table>
<script type="text/javascript">
var packageTable = new SortableTable(document.getElementById("summary"),
    ["String", "Percentage"]);
packageTable.sort(0);
</script>


<table class="srcCode">
<tbody>
<tr class="">
  <td class="nbLine">1</td>
  <td class="nbHits"></td>
  <td class="src"><pre># Orca</pre></td>
</tr>
<tr class="">
  <td class="nbLine">2</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">3</td>
  <td class="nbHits"></td>
  <td class="src"><pre># Copyright 2004-2007 Sun Microsystems Inc.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">4</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">5</td>
  <td class="nbHits"></td>
  <td class="src"><pre># This library is free software; you can redistribute it and/or</pre></td>
</tr>
<tr class="">
  <td class="nbLine">6</td>
  <td class="nbHits"></td>
  <td class="src"><pre># modify it under the terms of the GNU Library General Public</pre></td>
</tr>
<tr class="">
  <td class="nbLine">7</td>
  <td class="nbHits"></td>
  <td class="src"><pre># License as published by the Free Software Foundation; either</pre></td>
</tr>
<tr class="">
  <td class="nbLine">8</td>
  <td class="nbHits"></td>
  <td class="src"><pre># version 2 of the License, or (at your option) any later version.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">9</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">10</td>
  <td class="nbHits"></td>
  <td class="src"><pre># This library is distributed in the hope that it will be useful,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">11</td>
  <td class="nbHits"></td>
  <td class="src"><pre># but WITHOUT ANY WARRANTY; without even the implied warranty of</pre></td>
</tr>
<tr class="">
  <td class="nbLine">12</td>
  <td class="nbHits"></td>
  <td class="src"><pre># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</pre></td>
</tr>
<tr class="">
  <td class="nbLine">13</td>
  <td class="nbHits"></td>
  <td class="src"><pre># Library General Public License for more details.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">14</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">15</td>
  <td class="nbHits"></td>
  <td class="src"><pre># You should have received a copy of the GNU Library General Public</pre></td>
</tr>
<tr class="">
  <td class="nbLine">16</td>
  <td class="nbHits"></td>
  <td class="src"><pre># License along with this library; if not, write to the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">17</td>
  <td class="nbHits"></td>
  <td class="src"><pre># Free Software Foundation, Inc., 59 Temple Place - Suite 330,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">18</td>
  <td class="nbHits"></td>
  <td class="src"><pre># Boston, MA 02111-1307, USA.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">19</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">20</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>"""The main module for the Orca screen reader."""</pre></td>
</tr>
<tr class="">
  <td class="nbLine">21</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">22</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>__id__        = "$Id: orca.py 2529 2007-07-09 14:49:14Z wwalker $"</pre></td>
</tr>
<tr class="">
  <td class="nbLine">23</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>__version__   = "$Revision: 2529 $"</pre></td>
</tr>
<tr class="">
  <td class="nbLine">24</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>__date__      = "$Date: 2007-07-09 10:49:14 -0400 (Mon, 09 Jul 2007) $"</pre></td>
</tr>
<tr class="">
  <td class="nbLine">25</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>__copyright__ = "Copyright (c) 2005-2007 Sun Microsystems Inc."</pre></td>
</tr>
<tr class="">
  <td class="nbLine">26</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>__license__   = "LGPL"</pre></td>
</tr>
<tr class="">
  <td class="nbLine">27</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">28</td>
  <td class="nbHits"></td>
  <td class="src"><pre># We're going to force the name of the app to "orca" so pygtk</pre></td>
</tr>
<tr class="">
  <td class="nbLine">29</td>
  <td class="nbHits"></td>
  <td class="src"><pre># will end up showing us as "orca" to the AT-SPI.  If we don't</pre></td>
</tr>
<tr class="">
  <td class="nbLine">30</td>
  <td class="nbHits"></td>
  <td class="src"><pre># do this, the name can end up being "-c".  See bug 364452 at</pre></td>
</tr>
<tr class="">
  <td class="nbLine">31</td>
  <td class="nbHits"></td>
  <td class="src"><pre># http://bugzilla.gnome.org/show_bug.cgi?id=364452 for more</pre></td>
</tr>
<tr class="">
  <td class="nbLine">32</td>
  <td class="nbHits"></td>
  <td class="src"><pre># information.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">33</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">34</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import sys</pre></td>
</tr>
<tr class="">
  <td class="nbLine">35</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>sys.argv[0] = "orca"</pre></td>
</tr>
<tr class="">
  <td class="nbLine">36</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">37</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>try:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">38</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # This can fail due to gtk not being available.  We want to</pre></td>
</tr>
<tr class="">
  <td class="nbLine">39</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # be able to recover from that if possible.  The main driver</pre></td>
</tr>
<tr class="">
  <td class="nbLine">40</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # for this is to allow "orca --text-setup" to work even if</pre></td>
</tr>
<tr class="">
  <td class="nbLine">41</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # the desktop is not running.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">42</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">43</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    import gtk</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">44</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">45</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    pass</pre></td>
</tr>
<tr class="">
  <td class="nbLine">46</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">47</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import getopt</pre></td>
</tr>
<tr class="">
  <td class="nbLine">48</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import os</pre></td>
</tr>
<tr class="">
  <td class="nbLine">49</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import signal</pre></td>
</tr>
<tr class="">
  <td class="nbLine">50</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import time</pre></td>
</tr>
<tr class="">
  <td class="nbLine">51</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import unicodedata</pre></td>
</tr>
<tr class="">
  <td class="nbLine">52</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">53</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import atspi</pre></td>
</tr>
<tr class="">
  <td class="nbLine">54</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import braille</pre></td>
</tr>
<tr class="">
  <td class="nbLine">55</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import debug</pre></td>
</tr>
<tr class="">
  <td class="nbLine">56</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import httpserver</pre></td>
</tr>
<tr class="">
  <td class="nbLine">57</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import keynames</pre></td>
</tr>
<tr class="">
  <td class="nbLine">58</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import keybindings</pre></td>
</tr>
<tr class="">
  <td class="nbLine">59</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import mag</pre></td>
</tr>
<tr class="">
  <td class="nbLine">60</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import orca_state</pre></td>
</tr>
<tr class="">
  <td class="nbLine">61</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import platform</pre></td>
</tr>
<tr class="">
  <td class="nbLine">62</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import rolenames</pre></td>
</tr>
<tr class="">
  <td class="nbLine">63</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import settings</pre></td>
</tr>
<tr class="">
  <td class="nbLine">64</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import speech</pre></td>
</tr>
<tr class="">
  <td class="nbLine">65</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">66</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>from input_event import BrailleEvent</pre></td>
</tr>
<tr class="">
  <td class="nbLine">67</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>from input_event import KeyboardEvent</pre></td>
</tr>
<tr class="">
  <td class="nbLine">68</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>from input_event import MouseButtonEvent</pre></td>
</tr>
<tr class="">
  <td class="nbLine">69</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>from input_event import InputEventHandler</pre></td>
</tr>
<tr class="">
  <td class="nbLine">70</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">71</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>from orca_i18n import _           # for gettext support</pre></td>
</tr>
<tr class="">
  <td class="nbLine">72</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">73</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>if settings.debugMemoryUsage:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">74</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    import gc</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">75</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    gc.set_debug(gc.DEBUG_UNCOLLECTABLE</pre></td>
</tr>
<tr class="">
  <td class="nbLine">76</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 | gc.DEBUG_COLLECTABLE</pre></td>
</tr>
<tr class="">
  <td class="nbLine">77</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 | gc.DEBUG_INSTANCES</pre></td>
</tr>
<tr class="">
  <td class="nbLine">78</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 | gc.DEBUG_OBJECTS</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">79</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                 | gc.DEBUG_SAVEALL)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">80</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">81</td>
  <td class="nbHits"></td>
  <td class="src"><pre># The user-settings module (see loadUserSettings).</pre></td>
</tr>
<tr class="">
  <td class="nbLine">82</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">83</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>_userSettings = None</pre></td>
</tr>
<tr class="">
  <td class="nbLine">84</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">85</td>
  <td class="nbHits"></td>
  <td class="src"><pre># Command line options that override any other settings.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">86</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">87</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>_commandLineSettings = {}</pre></td>
</tr>
<tr class="">
  <td class="nbLine">88</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">89</td>
  <td class="nbHits"></td>
  <td class="src"><pre>########################################################################</pre></td>
</tr>
<tr class="">
  <td class="nbLine">90</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#                                                                      #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">91</td>
  <td class="nbHits"></td>
  <td class="src"><pre># METHODS FOR HANDLING PRESENTATION MANAGERS                           #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">92</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#                                                                      #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">93</td>
  <td class="nbHits"></td>
  <td class="src"><pre># A presentation manager is what reacts to AT-SPI object events as     #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">94</td>
  <td class="nbHits"></td>
  <td class="src"><pre># well as user input events (keyboard and Braille) to present info     #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">95</td>
  <td class="nbHits"></td>
  <td class="src"><pre># to the user.                                                         #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">96</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#                                                                      #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">97</td>
  <td class="nbHits"></td>
  <td class="src"><pre>########################################################################</pre></td>
</tr>
<tr class="">
  <td class="nbLine">98</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">99</td>
  <td class="nbHits"></td>
  <td class="src"><pre># The known presentation managers (set up in start())</pre></td>
</tr>
<tr class="">
  <td class="nbLine">100</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">101</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>_PRESENTATION_MANAGERS = None</pre></td>
</tr>
<tr class="">
  <td class="nbLine">102</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">103</td>
  <td class="nbHits"></td>
  <td class="src"><pre># The current presentation manager, which is an index into the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">104</td>
  <td class="nbHits"></td>
  <td class="src"><pre># _PRESENTATION_MANAGERS list.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">105</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">106</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>_currentPresentationManager = -1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">107</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">108</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def _switchToPresentationManager(index):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">109</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Switches to the given presentation manager.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">110</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">111</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">112</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - index: an index into _PRESENTATION_MANAGERS</pre></td>
</tr>
<tr class="">
  <td class="nbLine">113</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">114</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">115</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    global _currentPresentationManager</pre></td>
</tr>
<tr class="">
  <td class="nbLine">116</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">117</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if _currentPresentationManager &gt;= 0:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">118</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        _PRESENTATION_MANAGERS[_currentPresentationManager].deactivate()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">119</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">120</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    _currentPresentationManager = index</pre></td>
</tr>
<tr class="">
  <td class="nbLine">121</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">122</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Wrap the presenter index around.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">123</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">124</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if _currentPresentationManager &gt;= len(_PRESENTATION_MANAGERS):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">125</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        _currentPresentationManager = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">126</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    elif _currentPresentationManager &lt; 0:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">127</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        _currentPresentationManager = len(_PRESENTATION_MANAGERS) - 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">128</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">129</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    _PRESENTATION_MANAGERS[_currentPresentationManager].activate()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">130</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">131</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def _switchToNextPresentationManager(script=None, inputEvent=None):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">132</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Switches to the next presentation manager.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">133</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">134</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">135</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - inputEvent: the InputEvent instance that caused this to be called.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">136</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">137</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Returns True indicating the event should be consumed.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">138</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">139</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">140</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _switchToPresentationManager(_currentPresentationManager + 1)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">141</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    return True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">142</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">143</td>
  <td class="nbHits"></td>
  <td class="src"><pre>########################################################################</pre></td>
</tr>
<tr class="">
  <td class="nbLine">144</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#                                                                      #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">145</td>
  <td class="nbHits"></td>
  <td class="src"><pre># METHODS TO HANDLE APPLICATION LIST AND FOCUSED OBJECTS               #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">146</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#                                                                      #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">147</td>
  <td class="nbHits"></td>
  <td class="src"><pre>########################################################################</pre></td>
</tr>
<tr class="">
  <td class="nbLine">148</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">149</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def setLocusOfFocus(event, obj, notifyPresentationManager=True):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">150</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Sets the locus of focus (i.e., the object with visual focus) and</pre></td>
</tr>
<tr class="">
  <td class="nbLine">151</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    notifies the current presentation manager of the change.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">152</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">153</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">154</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - event: if not None, the Event that caused this to happen</pre></td>
</tr>
<tr class="">
  <td class="nbLine">155</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - obj: the Accessible with the new locus of focus.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">156</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - notifyPresentationManager: if True, propagate this event</pre></td>
</tr>
<tr class="">
  <td class="nbLine">157</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">158</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">159</td>
  <td class="nbHits">1047</td>
  <td class="src"><pre>    if obj == orca_state.locusOfFocus:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">160</td>
  <td class="nbHits">144</td>
  <td class="src"><pre>        return</pre></td>
</tr>
<tr class="">
  <td class="nbLine">161</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">162</td>
  <td class="nbHits">903</td>
  <td class="src"><pre>    oldLocusOfFocus = orca_state.locusOfFocus</pre></td>
</tr>
<tr class="">
  <td class="nbLine">163</td>
  <td class="nbHits">903</td>
  <td class="src"><pre>    if oldLocusOfFocus and not oldLocusOfFocus.valid:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">164</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        oldLocusOfFocus = None</pre></td>
</tr>
<tr class="">
  <td class="nbLine">165</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">166</td>
  <td class="nbHits">903</td>
  <td class="src"><pre>    orca_state.locusOfFocus = obj</pre></td>
</tr>
<tr class="">
  <td class="nbLine">167</td>
  <td class="nbHits">903</td>
  <td class="src"><pre>    if orca_state.locusOfFocus and not orca_state.locusOfFocus.valid:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">168</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        orca_state.locusOfFocus = None</pre></td>
</tr>
<tr class="">
  <td class="nbLine">169</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">170</td>
  <td class="nbHits">903</td>
  <td class="src"><pre>    if orca_state.locusOfFocus:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">171</td>
  <td class="nbHits">825</td>
  <td class="src"><pre>        appname = ""</pre></td>
</tr>
<tr class="">
  <td class="nbLine">172</td>
  <td class="nbHits">825</td>
  <td class="src"><pre>        if not orca_state.locusOfFocus.app:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">173</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            appname = "None"</pre></td>
</tr>
<tr class="">
  <td class="nbLine">174</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">175</td>
  <td class="nbHits">825</td>
  <td class="src"><pre>            appname = "'" + orca_state.locusOfFocus.app.name + "'"</pre></td>
</tr>
<tr class="">
  <td class="nbLine">176</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">177</td>
  <td class="nbHits">825</td>
  <td class="src"><pre>        debug.println(debug.LEVEL_FINE,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">178</td>
  <td class="nbHits">825</td>
  <td class="src"><pre>                      "LOCUS OF FOCUS: app=%s name='%s' role='%s'" \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">179</td>
  <td class="nbHits">825</td>
  <td class="src"><pre>                      % (appname,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">180</td>
  <td class="nbHits">825</td>
  <td class="src"><pre>                         orca_state.locusOfFocus.name,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">181</td>
  <td class="nbHits">825</td>
  <td class="src"><pre>                         orca_state.locusOfFocus.role))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">182</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">183</td>
  <td class="nbHits">825</td>
  <td class="src"><pre>        if event:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">184</td>
  <td class="nbHits">825</td>
  <td class="src"><pre>            debug.println(debug.LEVEL_FINE,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">185</td>
  <td class="nbHits">825</td>
  <td class="src"><pre>                          "                event='%s'" % event.type)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">186</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">187</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            debug.println(debug.LEVEL_FINE,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">188</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                          "                event=None")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">189</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">190</td>
  <td class="nbHits">78</td>
  <td class="src"><pre>        if event:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">191</td>
  <td class="nbHits">78</td>
  <td class="src"><pre>            debug.println(debug.LEVEL_FINE,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">192</td>
  <td class="nbHits">78</td>
  <td class="src"><pre>                          "LOCUS OF FOCUS: None event='%s'" % event.type)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">193</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">194</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            debug.println(debug.LEVEL_FINE,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">195</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                          "LOCUS OF FOCUS: None event=None")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">196</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">197</td>
  <td class="nbHits">903</td>
  <td class="src"><pre>    if notifyPresentationManager and _currentPresentationManager &gt;= 0:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">198</td>
  <td class="nbHits">903</td>
  <td class="src"><pre>        _PRESENTATION_MANAGERS[_currentPresentationManager].\</pre></td>
</tr>
<tr class="">
  <td class="nbLine">199</td>
  <td class="nbHits">903</td>
  <td class="src"><pre>            locusOfFocusChanged(event,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">200</td>
  <td class="nbHits">903</td>
  <td class="src"><pre>                                oldLocusOfFocus,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">201</td>
  <td class="nbHits">903</td>
  <td class="src"><pre>                                orca_state.locusOfFocus)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">202</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">203</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def visualAppearanceChanged(event, obj):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">204</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Called (typically by scripts) when the visual appearance of an object</pre></td>
</tr>
<tr class="">
  <td class="nbLine">205</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    changes and notifies the current presentation manager of the change.  This</pre></td>
</tr>
<tr class="">
  <td class="nbLine">206</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    method should not be called for objects whose visual appearance changes</pre></td>
</tr>
<tr class="">
  <td class="nbLine">207</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    solely because of focus -- setLocusOfFocus is used for that.  Instead, it</pre></td>
</tr>
<tr class="">
  <td class="nbLine">208</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    is intended mostly for objects whose notional 'value' has changed, such as</pre></td>
</tr>
<tr class="">
  <td class="nbLine">209</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    a checkbox changing state, a progress bar advancing, a slider moving, text</pre></td>
</tr>
<tr class="">
  <td class="nbLine">210</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    inserted, caret moved, etc.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">211</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">212</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">213</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - event: if not None, the Event that caused this to happen</pre></td>
</tr>
<tr class="">
  <td class="nbLine">214</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - obj: the Accessible whose visual appearance changed.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">215</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">216</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">217</td>
  <td class="nbHits">841</td>
  <td class="src"><pre>    if _currentPresentationManager &gt;= 0:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">218</td>
  <td class="nbHits">841</td>
  <td class="src"><pre>        _PRESENTATION_MANAGERS[_currentPresentationManager].\</pre></td>
</tr>
<tr class="">
  <td class="nbLine">219</td>
  <td class="nbHits">841</td>
  <td class="src"><pre>            visualAppearanceChanged(event, obj)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">220</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">221</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def _onChildrenChanged(e):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">222</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Tracks children-changed events on the desktop to determine when</pre></td>
</tr>
<tr class="">
  <td class="nbLine">223</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    apps start and stop.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">224</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">225</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">226</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - e: at-spi event from the at-api registry</pre></td>
</tr>
<tr class="">
  <td class="nbLine">227</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">228</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">229</td>
  <td class="nbHits">3615</td>
  <td class="src"><pre>    registry = atspi.Registry()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">230</td>
  <td class="nbHits">3615</td>
  <td class="src"><pre>    if e.source == registry.desktop:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">231</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">232</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # If the desktop is empty, the user has logged out-- shutdown Orca</pre></td>
</tr>
<tr class="">
  <td class="nbLine">233</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">234</td>
  <td class="nbHits">149</td>
  <td class="src"><pre>        try:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">235</td>
  <td class="nbHits">149</td>
  <td class="src"><pre>            if registry.desktop.childCount == 0:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">236</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                speech.speak(_("Goodbye."))</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">237</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                shutdown()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">238</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                return</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">239</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        except: # could be a CORBA.COMM_FAILURE</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">240</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            debug.printException(debug.LEVEL_FINEST)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">241</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            shutdown()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">242</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            return</pre></td>
</tr>
<tr class="">
  <td class="nbLine">243</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">244</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def _onMouseButton(e):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">245</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Tracks mouse button events, stopping any speech in progress.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">246</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">247</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">248</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - e: at-spi event from the at-api registry</pre></td>
</tr>
<tr class="">
  <td class="nbLine">249</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">250</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">251</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    event = atspi.Event(e)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">252</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    orca_state.lastInputEvent = MouseButtonEvent(event)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">253</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">254</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # A mouse button event looks like: mouse:button:1p, where the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">255</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # number is the button number and the 'p' is either 'p' or 'r',</pre></td>
</tr>
<tr class="">
  <td class="nbLine">256</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # meaning pressed or released.  We only want to stop speech on</pre></td>
</tr>
<tr class="">
  <td class="nbLine">257</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # button presses.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">258</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">259</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if event.type.endswith("p"):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">260</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        speech.stop()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">261</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">262</td>
  <td class="nbHits"></td>
  <td class="src"><pre>########################################################################</pre></td>
</tr>
<tr class="">
  <td class="nbLine">263</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#                                                                      #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">264</td>
  <td class="nbHits"></td>
  <td class="src"><pre># Keyboard Event Recording Support                                     #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">265</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#                                                                      #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">266</td>
  <td class="nbHits"></td>
  <td class="src"><pre>########################################################################</pre></td>
</tr>
<tr class="">
  <td class="nbLine">267</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">268</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>_recordingKeystrokes = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">269</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>_keystrokesFile = None</pre></td>
</tr>
<tr class="">
  <td class="nbLine">270</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">271</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def _closeKeystrokeWindowAndRecord(entry, window):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">272</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    global _keystrokesFile</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">273</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    window.destroy()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">274</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    entry_text = entry.get_text()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">275</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _keystrokesFile = open(entry_text, 'w')</pre></td>
</tr>
<tr class="">
  <td class="nbLine">276</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">277</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def _closeKeystrokeWindowAndCancel(window):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">278</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    global _recordingKeystrokes</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">279</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    window.destroy()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">280</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _recordingKeystrokes = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">281</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">282</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def toggleKeystrokeRecording(script=None, inputEvent=None):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">283</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Toggles the recording of keystrokes on and off.  When the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">284</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    user presses the magic key (Pause), Orca will pop up a window</pre></td>
</tr>
<tr class="">
  <td class="nbLine">285</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    requesting a filename.  When the user presses the close button,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">286</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Orca will start recording keystrokes to the file and will continue</pre></td>
</tr>
<tr class="">
  <td class="nbLine">287</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    recording them until the user presses the magic key again.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">288</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">289</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    This functionality is used primarily to help gather keystroke</pre></td>
</tr>
<tr class="">
  <td class="nbLine">290</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    information for regression testing purposes.  The keystrokes are</pre></td>
</tr>
<tr class="">
  <td class="nbLine">291</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    recorded in such a way that they can be played back via the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">292</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    src/tools/play_keystrokes.py utility.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">293</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">294</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">295</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - inputEvent: the key event (if any) which caused this to be called.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">296</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">297</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Returns True indicating the event should be consumed.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">298</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">299</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">300</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    global _recordingKeystrokes</pre></td>
</tr>
<tr class="">
  <td class="nbLine">301</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    global _keystrokesFile</pre></td>
</tr>
<tr class="">
  <td class="nbLine">302</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">303</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if _recordingKeystrokes:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">304</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # If the filename entry window is still up, we don't have a file</pre></td>
</tr>
<tr class="">
  <td class="nbLine">305</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # yet.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">306</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">307</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        if _keystrokesFile:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">308</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            _keystrokesFile.close()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">309</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            _keystrokesFile = None</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">310</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            _recordingKeystrokes = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">311</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">312</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        _recordingKeystrokes = True</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">313</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        window = gtk.Window(gtk.WINDOW_TOPLEVEL)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">314</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        window.set_title("Keystroke Filename")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">315</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">316</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        vbox = gtk.VBox(False, 0)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">317</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        window.add(vbox)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">318</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        vbox.show()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">319</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">320</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        entry = gtk.Entry()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">321</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        entry.set_max_length(50)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">322</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        entry.set_editable(True)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">323</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        entry.set_text("keystrokes.txt")</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">324</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        entry.select_region(0, len(entry.get_text()))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">325</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # For now, do not allow "Return" to close the window - the reason</pre></td>
</tr>
<tr class="">
  <td class="nbLine">326</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # for this is that the key press closes the window, and the key</pre></td>
</tr>
<tr class="">
  <td class="nbLine">327</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # release will end up getting recorded.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">328</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">329</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #entry.connect("activate", _closeKeystrokeWindow, window)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">330</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        vbox.pack_start(entry, True, True, 0)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">331</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        entry.show()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">332</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">333</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        hbox = gtk.HBox(False, 0)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">334</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        vbox.add(hbox)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">335</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        hbox.show()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">336</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">337</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        ok = gtk.Button(stock=gtk.STOCK_OK)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">338</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        ok.connect("clicked", lambda w: _closeKeystrokeWindowAndRecord(\</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">339</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            entry, \</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">340</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            window))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">341</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">342</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        cancel = gtk.Button(stock=gtk.STOCK_CANCEL)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">343</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        cancel.connect("clicked", lambda w: _closeKeystrokeWindowAndCancel(\</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">344</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            window))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">345</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">346</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        vbox.pack_start(cancel, True, True, 0)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">347</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        vbox.pack_start(ok, True, True, 0)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">348</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">349</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        ok.set_flags(gtk.CAN_DEFAULT)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">350</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        ok.grab_default()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">351</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        ok.show()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">352</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        cancel.show()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">353</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">354</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        window.set_modal(True)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">355</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        window.show()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">356</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    return True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">357</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">358</td>
  <td class="nbHits"></td>
  <td class="src"><pre>########################################################################</pre></td>
</tr>
<tr class="">
  <td class="nbLine">359</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#                                                                      #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">360</td>
  <td class="nbHits"></td>
  <td class="src"><pre># DEBUG support.                                                       #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">361</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#                                                                      #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">362</td>
  <td class="nbHits"></td>
  <td class="src"><pre>########################################################################</pre></td>
</tr>
<tr class="">
  <td class="nbLine">363</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">364</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def cycleDebugLevel(script=None, inputEvent=None):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">365</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    global _debugLevel</pre></td>
</tr>
<tr class="">
  <td class="nbLine">366</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">367</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    level = debug.debugLevel</pre></td>
</tr>
<tr class="">
  <td class="nbLine">368</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">369</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if level == debug.LEVEL_ALL:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">370</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        level = debug.LEVEL_FINEST</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">371</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif level == debug.LEVEL_FINEST:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">372</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        level = debug.LEVEL_FINER</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">373</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif level == debug.LEVEL_FINER:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">374</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        level = debug.LEVEL_FINE</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">375</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif level == debug.LEVEL_FINE:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">376</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        level = debug.LEVEL_CONFIGURATION</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">377</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif level == debug.LEVEL_CONFIGURATION:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">378</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        level = debug.LEVEL_INFO</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">379</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif level == debug.LEVEL_INFO:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">380</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        level = debug.LEVEL_WARNING</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">381</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif level == debug.LEVEL_WARNING:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">382</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        level = debug.LEVEL_SEVERE</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">383</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif level == debug.LEVEL_SEVERE:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">384</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        level = debug.LEVEL_OFF</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">385</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif level == debug.LEVEL_OFF:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">386</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        level = debug.LEVEL_ALL</pre></td>
</tr>
<tr class="">
  <td class="nbLine">387</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">388</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    debug.debugLevel = level</pre></td>
</tr>
<tr class="">
  <td class="nbLine">389</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">390</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if level == debug.LEVEL_ALL:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">391</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        speech.speak("Debug level all.")</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">392</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif level == debug.LEVEL_FINEST:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">393</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        speech.speak("Debug level finest.")</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">394</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif level == debug.LEVEL_FINER:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">395</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        speech.speak("Debug level finer.")</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">396</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif level == debug.LEVEL_FINE:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">397</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        speech.speak("Debug level fine.")</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">398</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif level == debug.LEVEL_CONFIGURATION:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">399</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        speech.speak("Debug level configuration.")</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">400</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif level == debug.LEVEL_INFO:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">401</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        speech.speak("Debug level info.")</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">402</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif level == debug.LEVEL_WARNING:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">403</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        speech.speak("Debug level warning.")</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">404</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif level == debug.LEVEL_SEVERE:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">405</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        speech.speak("Debug level severe.")</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">406</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif level == debug.LEVEL_OFF:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">407</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        speech.speak("Debug level off.")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">408</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">409</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    return True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">410</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">411</td>
  <td class="nbHits"></td>
  <td class="src"><pre>########################################################################</pre></td>
</tr>
<tr class="">
  <td class="nbLine">412</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#                                                                      #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">413</td>
  <td class="nbHits"></td>
  <td class="src"><pre># METHODS FOR PRE-PROCESSING AND MASSAGING KEYBOARD EVENTS.            #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">414</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#                                                                      #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">415</td>
  <td class="nbHits"></td>
  <td class="src"><pre># All keyboard events are funnelled through here first.  Orca itself   #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">416</td>
  <td class="nbHits"></td>
  <td class="src"><pre># might have global keybindings (e.g., to switch between presenters),  #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">417</td>
  <td class="nbHits"></td>
  <td class="src"><pre># but it will typically pass the event onto the currently active       #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">418</td>
  <td class="nbHits"></td>
  <td class="src"><pre># active presentation manager.                                         #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">419</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#                                                                      #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">420</td>
  <td class="nbHits"></td>
  <td class="src"><pre>########################################################################</pre></td>
</tr>
<tr class="">
  <td class="nbLine">421</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">422</td>
  <td class="nbHits"></td>
  <td class="src"><pre># Keybindings that Orca itself cares about.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">423</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">424</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>_keyBindings = None</pre></td>
</tr>
<tr class="">
  <td class="nbLine">425</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">426</td>
  <td class="nbHits"></td>
  <td class="src"><pre># True if the orca modifier key is currently pressed.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">427</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">428</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>_orcaModifierPressed = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">429</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">430</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def _isPrintableKey(event_string):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">431</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Return an indication of whether this is an alphanumeric or</pre></td>
</tr>
<tr class="">
  <td class="nbLine">432</td>
  <td class="nbHits"></td>
  <td class="src"><pre>       punctuation key.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">433</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">434</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">435</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - event: the event string</pre></td>
</tr>
<tr class="">
  <td class="nbLine">436</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">437</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Returns True if this is an alphanumeric or punctuation key.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">438</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">439</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">440</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if event_string == "space":</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">441</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        reply = True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">442</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">443</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        unicodeString = event_string.decode("UTF-8")</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">444</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        reply = (len(unicodeString) == 1) \</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">445</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                and (unicodeString.isalnum() or unicodeString.isspace()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">446</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                or unicodedata.category(unicodeString)[0] in ('P', 'S'))</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">447</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    debug.println(debug.LEVEL_FINEST,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">448</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                  "orca._echoPrintableKey: returning: %s" % reply)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">449</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    return reply</pre></td>
</tr>
<tr class="">
  <td class="nbLine">450</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">451</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def _isModifierKey(event_string):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">452</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Return an indication of whether this is a modifier key.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">453</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">454</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">455</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - event: the event string</pre></td>
</tr>
<tr class="">
  <td class="nbLine">456</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">457</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Returns True if this is a modifier key</pre></td>
</tr>
<tr class="">
  <td class="nbLine">458</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">459</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">460</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # [[[TODO:richb - the Fn key on my laptop doesn't seem to generate an</pre></td>
</tr>
<tr class="">
  <td class="nbLine">461</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #    event.]]]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">462</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">463</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>    modifierKeys = [ 'Alt_L', 'Alt_R', 'Control_L', 'Control_R', \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">464</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>                     'Shift_L', 'Shift_R', 'Meta_L', 'Meta_R' ]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">465</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>    modifierKeys.extend(settings.orcaModifierKeys)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">466</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">467</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>    reply = event_string in modifierKeys</pre></td>
</tr>
<tr class="">
  <td class="nbLine">468</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>    debug.println(debug.LEVEL_FINEST,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">469</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>                  "orca._echoModifierKey: returning: %s" % reply)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">470</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>    return reply</pre></td>
</tr>
<tr class="">
  <td class="nbLine">471</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">472</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def _isLockingKey(event_string):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">473</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Return an indication of whether this is a locking key.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">474</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">475</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">476</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - event: the event string</pre></td>
</tr>
<tr class="">
  <td class="nbLine">477</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">478</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Returns True if this is a locking key.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">479</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">480</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">481</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    lockingKeys = [ "Caps_Lock", "Num_Lock", "Scroll_Lock" ]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">482</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">483</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    reply = event_string in lockingKeys \</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">484</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            and not event_string in settings.orcaModifierKeys</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">485</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    debug.println(debug.LEVEL_FINEST,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">486</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                  "orca._echoLockingKey: returning: %s" % reply)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">487</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    return reply</pre></td>
</tr>
<tr class="">
  <td class="nbLine">488</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">489</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def _isFunctionKey(event_string):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">490</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Return an indication of whether this is a function key.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">491</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">492</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">493</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - event: the event string</pre></td>
</tr>
<tr class="">
  <td class="nbLine">494</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">495</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Returns True if this is a function key.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">496</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">497</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">498</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # [[[TODO:richb - what should be done about the function keys on the left</pre></td>
</tr>
<tr class="">
  <td class="nbLine">499</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #    side of my Sun keyboard and the other keys (like Scroll Lock), which</pre></td>
</tr>
<tr class="">
  <td class="nbLine">500</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #    generate "Fn" key events?]]]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">501</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">502</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    functionKeys = [ "F1", "F2", "F3", "F4", "F5", "F6",</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">503</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                     "F7", "F8", "F9", "F10", "F11", "F12" ]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">504</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">505</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    reply = event_string in functionKeys</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">506</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    debug.println(debug.LEVEL_FINEST,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">507</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                  "orca._echoFunctionKey: returning: %s" % reply)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">508</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    return reply</pre></td>
</tr>
<tr class="">
  <td class="nbLine">509</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">510</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def _isActionKey(event_string):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">511</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Return an indication of whether this is an action key.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">512</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">513</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">514</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - event: the event string</pre></td>
</tr>
<tr class="">
  <td class="nbLine">515</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">516</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Returns True if this is an action key.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">517</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">518</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">519</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    actionKeys = [ "Return", "Escape", "Tab", "BackSpace", "Delete",</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">520</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                   "Page_Up", "Page_Down", "Home", "End" ]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">521</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">522</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    reply = event_string in actionKeys</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">523</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    debug.println(debug.LEVEL_FINEST,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">524</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                  "orca._echoActionKey: returning: %s" % reply)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">525</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    return reply</pre></td>
</tr>
<tr class="">
  <td class="nbLine">526</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">527</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>class KeyEventType:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">528</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    """Definition of available key event types."""</pre></td>
</tr>
<tr class="">
  <td class="nbLine">529</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">530</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """An alphanumeric or punctuation key event."""</pre></td>
</tr>
<tr class="">
  <td class="nbLine">531</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    PRINTABLE = 'PRINTABLE'</pre></td>
</tr>
<tr class="">
  <td class="nbLine">532</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">533</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """A modifier key event."""</pre></td>
</tr>
<tr class="">
  <td class="nbLine">534</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    MODIFIER = 'MODIFIER'</pre></td>
</tr>
<tr class="">
  <td class="nbLine">535</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">536</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """A locking key event."""</pre></td>
</tr>
<tr class="">
  <td class="nbLine">537</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    LOCKING = 'LOCKING'</pre></td>
</tr>
<tr class="">
  <td class="nbLine">538</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">539</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """A locking key lock event."""</pre></td>
</tr>
<tr class="">
  <td class="nbLine">540</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    LOCKING_LOCKED = 'LOCKING_LOCKED'</pre></td>
</tr>
<tr class="">
  <td class="nbLine">541</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">542</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """A locking key unlock event."""</pre></td>
</tr>
<tr class="">
  <td class="nbLine">543</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    LOCKING_UNLOCKED = 'LOCKING_UNLOCKED'</pre></td>
</tr>
<tr class="">
  <td class="nbLine">544</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">545</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """A function key event."""</pre></td>
</tr>
<tr class="">
  <td class="nbLine">546</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    FUNCTION = 'FUNCTION'</pre></td>
</tr>
<tr class="">
  <td class="nbLine">547</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">548</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """An action key event."""</pre></td>
</tr>
<tr class="">
  <td class="nbLine">549</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    ACTION = 'ACTION'</pre></td>
</tr>
<tr class="">
  <td class="nbLine">550</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">551</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def _keyEcho(event):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">552</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """If the keyEcho setting is enabled, check to see what type of key</pre></td>
</tr>
<tr class="">
  <td class="nbLine">553</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    event it is and echo it via speech, if the user wants that type of</pre></td>
</tr>
<tr class="">
  <td class="nbLine">554</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    key echoed.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">555</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">556</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Uppercase keys will be spoken using the "uppercase" voice style,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">557</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    whereas lowercase keys will be spoken using the "default" voice style.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">558</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">559</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">560</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - event: an AT-SPI DeviceEvent</pre></td>
</tr>
<tr class="">
  <td class="nbLine">561</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">562</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">563</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # If this keyboard event was for an object like a password text</pre></td>
</tr>
<tr class="">
  <td class="nbLine">564</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # field, then don't echo it.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">565</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">566</td>
  <td class="nbHits">1802</td>
  <td class="src"><pre>    if orca_state.locusOfFocus \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">567</td>
  <td class="nbHits">1800</td>
  <td class="src"><pre>        and (orca_state.locusOfFocus.role == rolenames.ROLE_PASSWORD_TEXT):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">568</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        return</pre></td>
</tr>
<tr class="">
  <td class="nbLine">569</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">570</td>
  <td class="nbHits">1802</td>
  <td class="src"><pre>    event_string = event.event_string</pre></td>
</tr>
<tr class="">
  <td class="nbLine">571</td>
  <td class="nbHits">1802</td>
  <td class="src"><pre>    debug.println(debug.LEVEL_FINEST,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">572</td>
  <td class="nbHits">1802</td>
  <td class="src"><pre>                  "orca._keyEcho: string to echo: %s" % event_string)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">573</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">574</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # If key echo is enabled, then check to see what type of key event</pre></td>
</tr>
<tr class="">
  <td class="nbLine">575</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # it is and echo it via speech, if the user wants that type of key</pre></td>
</tr>
<tr class="">
  <td class="nbLine">576</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # echoed.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">577</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">578</td>
  <td class="nbHits">1802</td>
  <td class="src"><pre>    if settings.enableKeyEcho:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">579</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">580</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        if _isPrintableKey(event_string):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">581</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if not settings.enablePrintableKeys:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">582</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                return</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">583</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            type = KeyEventType.PRINTABLE</pre></td>
</tr>
<tr class="">
  <td class="nbLine">584</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">585</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        elif _isModifierKey(event_string):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">586</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if not settings.enableModifierKeys:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">587</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                return</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">588</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            type = KeyEventType.MODIFIER</pre></td>
</tr>
<tr class="">
  <td class="nbLine">589</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">590</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        elif _isLockingKey(event_string):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">591</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if not settings.enableLockingKeys:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">592</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                return</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">593</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            type = KeyEventType.LOCKING</pre></td>
</tr>
<tr class="">
  <td class="nbLine">594</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">595</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            modifiers = event.modifiers</pre></td>
</tr>
<tr class="">
  <td class="nbLine">596</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">597</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if event_string == "Caps_Lock":</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">598</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                if modifiers &amp; (1 &lt;&lt; atspi.Accessibility.MODIFIER_SHIFTLOCK):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">599</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    type = KeyEventType.LOCKING_UNLOCKED</pre></td>
</tr>
<tr class="">
  <td class="nbLine">600</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">601</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    type = KeyEventType.LOCKING_LOCKED</pre></td>
</tr>
<tr class="">
  <td class="nbLine">602</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">603</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            elif event_string == "Num_Lock":</pre></td>
</tr>
<tr class="">
  <td class="nbLine">604</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # [[[TODO: richb - we are not getting a correct modifier</pre></td>
</tr>
<tr class="">
  <td class="nbLine">605</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # state value returned when Num Lock is turned off.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">606</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # Commenting out the speaking of the bogus on/off state</pre></td>
</tr>
<tr class="">
  <td class="nbLine">607</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # until this can be fixed.]]]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">608</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">609</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                #if modifiers &amp; (1 &lt;&lt; atspi.Accessibility.MODIFIER_NUMLOCK):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">610</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                #    type = KeyEventType.LOCKING_UNLOCKED</pre></td>
</tr>
<tr class="">
  <td class="nbLine">611</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                #else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">612</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                #    type = KeyEventType.LOCKING_LOCKED</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">613</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                pass</pre></td>
</tr>
<tr class="">
  <td class="nbLine">614</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">615</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        elif _isFunctionKey(event_string):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">616</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if not settings.enableFunctionKeys:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">617</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                return</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">618</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            type = KeyEventType.FUNCTION</pre></td>
</tr>
<tr class="">
  <td class="nbLine">619</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">620</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        elif _isActionKey(event_string):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">621</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if not settings.enableActionKeys:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">622</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                return</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">623</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            type = KeyEventType.ACTION</pre></td>
</tr>
<tr class="">
  <td class="nbLine">624</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">625</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">626</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            debug.println(debug.LEVEL_FINEST,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">627</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                  "orca._keyEcho: event string not handled: %s" % event_string)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">628</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            return</pre></td>
</tr>
<tr class="">
  <td class="nbLine">629</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">630</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        debug.println(debug.LEVEL_FINEST,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">631</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                      "orca._keyEcho: speaking: %s" % event_string)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">632</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">633</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # We keep track of the time as means to let others know that</pre></td>
</tr>
<tr class="">
  <td class="nbLine">634</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # we are probably echoing a key and should not be interrupted.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">635</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">636</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        orca_state.lastKeyEchoTime = time.time()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">637</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">638</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        speech.speakKeyEvent(event_string, type)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">639</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">640</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def _processKeyCaptured(event):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">641</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Called when a new key event arrives and orca_state.capturingKeys=True.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">642</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    (used for key bindings redefinition)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">643</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">644</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">645</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if event.type == 0:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">646</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        if _isModifierKey(event.event_string) \</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">647</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>               or event.event_string == "Return":</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">648</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            pass</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">649</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        elif event.event_string == "Escape":</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">650</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            orca_state.capturingKeys = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">651</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">652</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # Translators: this is a spoken prompt letting the user know</pre></td>
</tr>
<tr class="">
  <td class="nbLine">653</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # Orca has recorded a new key combination (e.g., Alt+Ctrl+g)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">654</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # based upon their input.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">655</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">656</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            speech.speak(_("Key captured: %s. Press enter to confirm.") \</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">657</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                         % str(event.event_string))</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">658</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            orca_state.lastCapturedKey = event</pre></td>
</tr>
<tr class="">
  <td class="nbLine">659</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">660</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        pass</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">661</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    return False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">662</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">663</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def _processKeyboardEvent(event):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">664</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """The primary key event handler for Orca.  Keeps track of various</pre></td>
</tr>
<tr class="">
  <td class="nbLine">665</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    attributes, such as the lastInputEvent.  Also calls keyEcho as well</pre></td>
</tr>
<tr class="">
  <td class="nbLine">666</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    as any local keybindings before passing the event on to the active</pre></td>
</tr>
<tr class="">
  <td class="nbLine">667</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    presentation manager.  This method is called synchronously from the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">668</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    AT-SPI registry and should be performant.  In addition, it</pre></td>
</tr>
<tr class="">
  <td class="nbLine">669</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    must return True if it has consumed the event (and False if not).</pre></td>
</tr>
<tr class="">
  <td class="nbLine">670</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">671</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">672</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - event: an AT-SPI DeviceEvent</pre></td>
</tr>
<tr class="">
  <td class="nbLine">673</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">674</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Returns True if the event should be consumed.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">675</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">676</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    global _orcaModifierPressed</pre></td>
</tr>
<tr class="">
  <td class="nbLine">677</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">678</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>    orca_state.lastInputEventTimestamp = event.timestamp</pre></td>
</tr>
<tr class="">
  <td class="nbLine">679</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">680</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Log the keyboard event for future playback, if desired.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">681</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Note here that the key event_string being output is</pre></td>
</tr>
<tr class="">
  <td class="nbLine">682</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # exactly what we received.  The KeyboardEvent object,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">683</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # however, will translate the event_string for control</pre></td>
</tr>
<tr class="">
  <td class="nbLine">684</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # characters to their upper case ASCII equivalent.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">685</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">686</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>    string = atspi.KeystrokeListener.keyEventToString(event)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">687</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>    if _recordingKeystrokes and _keystrokesFile \</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">688</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>       and (event.event_string != "Pause") \</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">689</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>       and (event.event_string != "F21"):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">690</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        _keystrokesFile.write(string + "\n")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">691</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>    debug.printInputEvent(debug.LEVEL_FINE, string)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">692</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">693</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>    keyboardEvent = KeyboardEvent(event)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">694</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">695</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # See if this is one of our special Orca modifier keys.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">696</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">697</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # [[[TODO: WDW - Note that just looking at the keycode should</pre></td>
</tr>
<tr class="">
  <td class="nbLine">698</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # suffice, but there is a "feature" in the Java Access Bridge</pre></td>
</tr>
<tr class="">
  <td class="nbLine">699</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # where it chooses to emit Java platform-independent keycodes</pre></td>
</tr>
<tr class="">
  <td class="nbLine">700</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # instead of the keycodes for the base platform:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">701</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">702</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # http://bugzilla.gnome.org/show_bug.cgi?id=106004</pre></td>
</tr>
<tr class="">
  <td class="nbLine">703</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # http://bugzilla.gnome.org/show_bug.cgi?id=318615</pre></td>
</tr>
<tr class="">
  <td class="nbLine">704</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">705</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # So...we need to workaround this problem.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">706</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">707</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # If you make the following expression True we will get a positive</pre></td>
</tr>
<tr class="">
  <td class="nbLine">708</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # match for all keysyms associated with a given keysym specified</pre></td>
</tr>
<tr class="">
  <td class="nbLine">709</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # as an Orca modifier key.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">710</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">711</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # For example, assume the Orca modifier is set to \ for some</pre></td>
</tr>
<tr class="">
  <td class="nbLine">712</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # reason.  The key that has \ on it produces \ without the Shift</pre></td>
</tr>
<tr class="">
  <td class="nbLine">713</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # key and | with the Shift key.  If the following expression is</pre></td>
</tr>
<tr class="">
  <td class="nbLine">714</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # True, both the \ and | will be viewed as the Orca modifier.  If</pre></td>
</tr>
<tr class="">
  <td class="nbLine">715</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # the following expression is False, only the \ will be viewed as</pre></td>
</tr>
<tr class="">
  <td class="nbLine">716</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # the Orca modifier (i.e., Shift+\ will still function as the |</pre></td>
</tr>
<tr class="">
  <td class="nbLine">717</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # character).  In general, I think we want to avoid sucking in all</pre></td>
</tr>
<tr class="">
  <td class="nbLine">718</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # possible keysyms because it can have unexpected results.]]]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">719</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">720</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>    if False:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">721</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        allPossibleKeysyms = []</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">722</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        for keysym in settings.orcaModifierKeys:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">723</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            allPossibleKeysyms.extend(keybindings.getAllKeysyms(keysym))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">724</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">725</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>        allPossibleKeysyms = settings.orcaModifierKeys</pre></td>
</tr>
<tr class="">
  <td class="nbLine">726</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">727</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>    isOrcaModifier = allPossibleKeysyms.count(keyboardEvent.event_string) &gt; 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">728</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">729</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>    if event.type == atspi.Accessibility.KEY_PRESSED_EVENT:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">730</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # Key presses always interrupt speech.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">731</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">732</td>
  <td class="nbHits">1802</td>
  <td class="src"><pre>        speech.stop()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">733</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">734</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # If learn mode is enabled, it will echo the keys.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">735</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">736</td>
  <td class="nbHits">1802</td>
  <td class="src"><pre>        if not settings.learnModeEnabled:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">737</td>
  <td class="nbHits">1802</td>
  <td class="src"><pre>            _keyEcho(keyboardEvent)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">738</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">739</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # We treat the Insert key as a modifier - so just swallow it and</pre></td>
</tr>
<tr class="">
  <td class="nbLine">740</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # set our internal state.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">741</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">742</td>
  <td class="nbHits">1802</td>
  <td class="src"><pre>        if isOrcaModifier:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">743</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>            _orcaModifierPressed = True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">744</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">745</td>
  <td class="nbHits">1777</td>
  <td class="src"><pre>    elif isOrcaModifier \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">746</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>        and (keyboardEvent.type == atspi.Accessibility.KEY_RELEASED_EVENT):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">747</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>        _orcaModifierPressed = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">748</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">749</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>    if _orcaModifierPressed:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">750</td>
  <td class="nbHits">10</td>
  <td class="src"><pre>        keyboardEvent.modifiers = keyboardEvent.modifiers \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">751</td>
  <td class="nbHits">10</td>
  <td class="src"><pre>                                  | (1 &lt;&lt; settings.MODIFIER_ORCA)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">752</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">753</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Orca gets first stab at the event.  Then, the presenter gets</pre></td>
</tr>
<tr class="">
  <td class="nbLine">754</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # a shot. [[[TODO: WDW - might want to let the presenter try first?</pre></td>
</tr>
<tr class="">
  <td class="nbLine">755</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # The main reason this is staying as is is that we may not want</pre></td>
</tr>
<tr class="">
  <td class="nbLine">756</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # scripts to override fundamental Orca key bindings.]]]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">757</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">758</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>    consumed = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">759</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>    try:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">760</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>        if orca_state.capturingKeys:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">761</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            _processKeyCaptured(keyboardEvent)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">762</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">763</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>            consumed = _keyBindings.consumeKeyboardEvent(None, keyboardEvent)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">764</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>            if (not consumed) and (_currentPresentationManager &gt;= 0):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">765</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>                consumed = _PRESENTATION_MANAGERS[_currentPresentationManager].\</pre></td>
</tr>
<tr class="">
  <td class="nbLine">766</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>                           processKeyboardEvent(keyboardEvent)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">767</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>            if (not consumed) and settings.learnModeEnabled:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">768</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                if keyboardEvent.type \</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">769</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    == atspi.Accessibility.KEY_PRESSED_EVENT:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">770</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    clickCount = orca_state.activeScript.getClickCount(\</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">771</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                                orca_state.lastInputEvent,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">772</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                                keyboardEvent)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">773</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    if clickCount == 2:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">774</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        orca_state.activeScript.phoneticSpellCurrentItem(\</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">775</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                            keyboardEvent.event_string)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">776</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">777</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                        # Check to see if there are localized words to be</pre></td>
</tr>
<tr class="">
  <td class="nbLine">778</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                        # spoken for this key event.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">779</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                        #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">780</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        braille.displayMessage(keyboardEvent.event_string)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">781</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        event_string = keyboardEvent.event_string</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">782</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        event_string = keynames.getKeyName(event_string)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">783</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        speech.speak(event_string)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">784</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                consumed = True</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">785</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">786</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        debug.printException(debug.LEVEL_SEVERE)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">787</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">788</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>    orca_state.lastInputEvent = keyboardEvent</pre></td>
</tr>
<tr class="">
  <td class="nbLine">789</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">790</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # If this is a key event for a non-modifier key, save a handle to it.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">791</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # This is needed to help determine user actions when a multi-key chord</pre></td>
</tr>
<tr class="">
  <td class="nbLine">792</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # has been pressed, and we might get the key events in different orders.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">793</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # See comment #15 of bug #435201 for more details.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">794</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">795</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>    if not _isModifierKey(keyboardEvent.event_string):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">796</td>
  <td class="nbHits">3292</td>
  <td class="src"><pre>        orca_state.lastNonModifierKeyEvent = keyboardEvent</pre></td>
</tr>
<tr class="">
  <td class="nbLine">797</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">798</td>
  <td class="nbHits">3579</td>
  <td class="src"><pre>    return consumed or isOrcaModifier</pre></td>
</tr>
<tr class="">
  <td class="nbLine">799</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">800</td>
  <td class="nbHits"></td>
  <td class="src"><pre>########################################################################</pre></td>
</tr>
<tr class="">
  <td class="nbLine">801</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#                                                                      #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">802</td>
  <td class="nbHits"></td>
  <td class="src"><pre># METHODS FOR PRE-PROCESSING AND MASSAGING BRAILLE EVENTS.             #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">803</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#                                                                      #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">804</td>
  <td class="nbHits"></td>
  <td class="src"><pre>########################################################################</pre></td>
</tr>
<tr class="">
  <td class="nbLine">805</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">806</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def _processBrailleEvent(command):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">807</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Called whenever a  key is pressed on the Braille display.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">808</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">809</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">810</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - command: the BrlAPI command for the key that was pressed.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">811</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">812</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Returns True if the event was consumed; otherwise False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">813</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">814</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">815</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # [[[TODO: WDW - probably should add braille bindings to this module.]]]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">816</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">817</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    consumed = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">818</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">819</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Braille key presses always interrupt speech.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">820</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">821</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    speech.stop()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">822</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">823</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    event = BrailleEvent(command)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">824</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    orca_state.lastInputEvent = event</pre></td>
</tr>
<tr class="">
  <td class="nbLine">825</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">826</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    try:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">827</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        consumed = _PRESENTATION_MANAGERS[_currentPresentationManager].\</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">828</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                   processBrailleEvent(event)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">829</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">830</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        debug.printException(debug.LEVEL_SEVERE)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">831</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">832</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if (not consumed) and settings.learnModeEnabled:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">833</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        consumed = True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">834</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">835</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    return consumed</pre></td>
</tr>
<tr class="">
  <td class="nbLine">836</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">837</td>
  <td class="nbHits"></td>
  <td class="src"><pre>########################################################################</pre></td>
</tr>
<tr class="">
  <td class="nbLine">838</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#                                                                      #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">839</td>
  <td class="nbHits"></td>
  <td class="src"><pre># METHODS FOR HANDLING INITIALIZATION, SHUTDOWN, AND USE.              #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">840</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#                                                                      #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">841</td>
  <td class="nbHits"></td>
  <td class="src"><pre>########################################################################</pre></td>
</tr>
<tr class="">
  <td class="nbLine">842</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">843</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def _toggleSilenceSpeech(script=None, inputEvent=None):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">844</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Toggle the silencing of speech.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">845</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">846</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Returns True to indicate the input event has been consumed.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">847</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">848</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    speech.stop()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">849</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if settings.silenceSpeech:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">850</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        settings.silenceSpeech = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">851</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # Translators: this is a spoken prompt letting the user know</pre></td>
</tr>
<tr class="">
  <td class="nbLine">852</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # that speech synthesis has been turned back on.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">853</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">854</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        speech.speak(_("Speech enabled."))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">855</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">856</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # Translators: this is a spoken prompt letting the user know</pre></td>
</tr>
<tr class="">
  <td class="nbLine">857</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # that speech synthesis has been temporarily turned off.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">858</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">859</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        speech.speak(_("Speech disabled."))</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">860</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        settings.silenceSpeech = True</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">861</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    return True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">862</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">863</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def loadUserSettings(script=None, inputEvent=None):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">864</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Loads (and reloads) the user settings module, reinitializing</pre></td>
</tr>
<tr class="">
  <td class="nbLine">865</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    things such as speech if necessary.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">866</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">867</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Returns True to indicate the input event has been consumed.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">868</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">869</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">870</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    global _userSettings</pre></td>
</tr>
<tr class="">
  <td class="nbLine">871</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">872</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Shutdown the output drivers and give them a chance to die.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">873</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">874</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    httpserver.shutdown()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">875</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    speech.shutdown()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">876</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    braille.shutdown()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">877</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    mag.shutdown()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">878</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">879</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if _currentPresentationManager &gt;= 0:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">880</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        _PRESENTATION_MANAGERS[_currentPresentationManager].deactivate()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">881</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">882</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    time.sleep(1)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">883</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">884</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    reloaded = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">885</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if _userSettings:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">886</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        try:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">887</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            reload(_userSettings)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">888</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            reloaded = True</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">889</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        except ImportError:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">890</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            debug.printException(debug.LEVEL_FINEST)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">891</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">892</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        try:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">893</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            _userSettings = __import__("user-settings")</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">894</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        except ImportError:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">895</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            debug.printException(debug.LEVEL_FINEST)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">896</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">897</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # If any settings were added to the command line, they take</pre></td>
</tr>
<tr class="">
  <td class="nbLine">898</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # precedence over everything else.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">899</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">900</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    for key in _commandLineSettings:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">901</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        settings.__dict__[key] = _commandLineSettings[key]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">902</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">903</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if settings.enableSpeech:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">904</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        try:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">905</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            speech.init()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">906</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            if reloaded:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">907</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # Translators: there is a keystroke to reload the user</pre></td>
</tr>
<tr class="">
  <td class="nbLine">908</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # preferences.  This is a spoken prompt to let the user</pre></td>
</tr>
<tr class="">
  <td class="nbLine">909</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # know when the preferences has been reloaded.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">910</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">911</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                speech.speak(_("Orca user settings reloaded."))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">912</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            debug.println(debug.LEVEL_CONFIGURATION,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">913</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                          "Speech module has been initialized.")</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">914</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">915</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            debug.printException(debug.LEVEL_SEVERE)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">916</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            debug.println(debug.LEVEL_SEVERE,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">917</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                          "Could not initialize connection to speech.")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">918</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">919</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        debug.println(debug.LEVEL_CONFIGURATION,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">920</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                      "Speech module has NOT been initialized.")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">921</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">922</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if settings.enableBraille:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">923</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        try:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">924</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            braille.init(_processBrailleEvent, settings.tty)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">925</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        except:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">926</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            debug.printException(debug.LEVEL_WARNING)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">927</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            debug.println(debug.LEVEL_WARNING,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">928</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                          "Could not initialize connection to braille.")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">929</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">930</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if settings.enableMagnifier:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">931</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        try:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">932</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            mag.init()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">933</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            debug.println(debug.LEVEL_CONFIGURATION,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">934</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                          "Magnification module has been initialized.")</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">935</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">936</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            debug.printException(debug.LEVEL_SEVERE)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">937</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            debug.println(debug.LEVEL_SEVERE,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">938</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                          "Could not initialize connection to magnifier.")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">939</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">940</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        debug.println(debug.LEVEL_CONFIGURATION,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">941</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                      "Magnification module has NOT been initialized.")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">942</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">943</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # We don't want the Caps_Lock modifier to act as a locking</pre></td>
</tr>
<tr class="">
  <td class="nbLine">944</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # modifier if it used as the Orca modifier key.  In addition, if</pre></td>
</tr>
<tr class="">
  <td class="nbLine">945</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # the KP_Insert key is used as the Orca modifier key, we want to</pre></td>
</tr>
<tr class="">
  <td class="nbLine">946</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # make sure we clear any other keysyms that might be in use on</pre></td>
</tr>
<tr class="">
  <td class="nbLine">947</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # that key since we won't be able to detect them as being the Orca</pre></td>
</tr>
<tr class="">
  <td class="nbLine">948</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # modifier key.  For example, KP_Insert produces "KP_Insert" when</pre></td>
</tr>
<tr class="">
  <td class="nbLine">949</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # pressed by itself, but Shift+KP_Insert produces "0".</pre></td>
</tr>
<tr class="">
  <td class="nbLine">950</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">951</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # The original values are saved/reset in the orca shell script.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">952</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">953</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # [[[TODO: WDW - we probably should just to a 'xmodmap -e "%s = %s"'</pre></td>
</tr>
<tr class="">
  <td class="nbLine">954</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # for all of the orcaModifierKeys, but saving/restoring the values</pre></td>
</tr>
<tr class="">
  <td class="nbLine">955</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # becomes a little more difficult.  If we could assume a writeable</pre></td>
</tr>
<tr class="">
  <td class="nbLine">956</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # filesystem (we cannot), we could do a 'xmodmap -pke &gt; /tmp/foo'</pre></td>
</tr>
<tr class="">
  <td class="nbLine">957</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # to save the keymap and a 'xmodmap /tmp/foo' to restore it.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">958</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # For now, we'll just look at the Orca modifier keys we support</pre></td>
</tr>
<tr class="">
  <td class="nbLine">959</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # (Caps Lock, KP_Insert, and Insert).]]]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">960</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">961</td>
  <td class="nbHits">3</td>
  <td class="src"><pre>    for keyName in settings.orcaModifierKeys:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">962</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>        if keyName == "Caps_Lock":</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">963</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            os.system('xmodmap -e "clear Lock"')</pre></td>
</tr>
<tr class="">
  <td class="nbLine">964</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>        if keyName in ["Caps_Lock", "KP_Insert", "Insert"]:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">965</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>            command = 'xmodmap -e "keysym %s = %s"' % (keyName, keyName)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">966</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>            os.system(command)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">967</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">968</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if _currentPresentationManager &gt;= 0:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">969</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        _PRESENTATION_MANAGERS[_currentPresentationManager].activate()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">970</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">971</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    _showMainWindowGUI()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">972</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">973</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    httpserver.init()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">974</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">975</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    return True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">976</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">977</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def _showAppPreferencesGUI(script=None, inputEvent=None):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">978</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Displays the user interace to configure the settings for a</pre></td>
</tr>
<tr class="">
  <td class="nbLine">979</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    specific applications within Orca and set up those app-specific</pre></td>
</tr>
<tr class="">
  <td class="nbLine">980</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    user preferences using a GUI.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">981</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">982</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Returns True to indicate the input event has been consumed.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">983</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">984</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">985</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    try:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">986</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        module = __import__(settings.appGuiPreferencesModule,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">987</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                            globals(),</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">988</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                            locals(),</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">989</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                            [''])</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">990</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        module.showPreferencesUI()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">991</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">992</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        debug.printException(debug.LEVEL_SEVERE)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">993</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        pass</pre></td>
</tr>
<tr class="">
  <td class="nbLine">994</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">995</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    return True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">996</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">997</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def _showPreferencesGUI(script=None, inputEvent=None):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">998</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Displays the user interace to configure Orca and set up</pre></td>
</tr>
<tr class="">
  <td class="nbLine">999</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    user preferences using a GUI.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1000</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1001</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Returns True to indicate the input event has been consumed.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1002</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1003</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1004</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    try:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1005</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        module = __import__(settings.guiPreferencesModule,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1006</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                            globals(),</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1007</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                            locals(),</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1008</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                            [''])</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1009</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        module.showPreferencesUI()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1010</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1011</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        debug.printException(debug.LEVEL_SEVERE)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1012</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        pass</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1013</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1014</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    return True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1015</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1016</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def _showMainWindowGUI(script=None, inputEvent=None):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1017</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Displays the Orca main window.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1018</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1019</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Returns True to indicate the input event has been consumed.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1020</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1021</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1022</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    try:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1023</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        module = __import__(settings.mainWindowModule,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1024</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                            globals(),</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1025</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                            locals(),</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1026</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                            [''])</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1027</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        if settings.showMainWindow:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1028</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            module.showMainUI()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1029</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1030</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            module.hideMainUI()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1031</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1032</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        debug.printException(debug.LEVEL_SEVERE)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1033</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        pass</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1034</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1035</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    return True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1036</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1037</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def _showPreferencesConsole(script=None, inputEvent=None):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1038</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Displays the user interace to configure Orca and set up</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1039</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    user preferences via a command line interface.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1040</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1041</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Returns True to indicate the input event has been consumed.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1042</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1043</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1044</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    try:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1045</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        module = __import__(settings.consolePreferencesModule,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1046</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                            globals(),</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1047</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                            locals(),</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1048</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                            [''])</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1049</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        module.showPreferencesUI()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1050</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1051</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        debug.printException(debug.LEVEL_SEVERE)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1052</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        pass</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1053</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1054</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    return True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1055</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1056</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def quitOrca(script=None, inputEvent=None):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1057</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Quit Orca. Check if the user wants to confirm this action.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1058</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    If so, show the confirmation GUI otherwise just shutdown.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1059</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1060</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Returns True to indicate the input event has been consumed.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1061</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1062</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1063</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if settings.quitOrcaNoConfirmation:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1064</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        shutdown()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1065</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1066</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        try:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1067</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            module = __import__(settings.quitModule,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1068</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                                globals(),</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1069</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                                locals(),</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1070</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                                [''])</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1071</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            module.showQuitUI()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1072</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1073</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            debug.printException(debug.LEVEL_SEVERE)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1074</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            pass</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1075</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1076</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    return True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1077</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1078</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def _showFindGUI(script=None, inputEvent=None):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1079</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Displays the user interace to perform an Orca Find.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1080</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1081</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Returns True to indicate the input event has been consumed.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1082</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1083</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1084</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    try:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1085</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        module = __import__(settings.findModule,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1086</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                            globals(),</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1087</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                            locals(),</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1088</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                            [''])</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1089</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        module.showFindUI()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1090</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1091</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        debug.printException(debug.LEVEL_SEVERE)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1092</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        pass</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1093</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1094</td>
  <td class="nbHits"></td>
  <td class="src"><pre># If True, this module has been initialized.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1095</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1096</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>_initialized = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1097</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1098</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def init(registry):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1099</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Initialize the orca module, which initializes speech, braille,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1100</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    and mag modules.  Also builds up the application list, registers</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1101</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    for AT-SPI events, and creates scripts for all known applications.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1102</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1103</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Returns True if the initialization procedure has run, or False if this</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1104</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    module has already been initialized.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1105</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1106</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1107</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    global _initialized</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1108</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    global _keyBindings</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1109</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1110</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if _initialized:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1111</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        return False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1112</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1113</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Do not hang on initialization if we can help it.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1114</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1115</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if settings.timeoutCallback and (settings.timeoutTime &gt; 0):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1116</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        signal.signal(signal.SIGALRM, settings.timeoutCallback)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1117</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        signal.alarm(settings.timeoutTime)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1118</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1119</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Note that we have moved the Orca specific keybindings to the default</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1120</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # script, so _keyBindings is currently empty. The logic is retained</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1121</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # here, just in case we wish to reinstate them in the future.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1122</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1123</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    _keyBindings = keybindings.KeyBindings()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1124</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1125</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Create and load an app's script when it is added to the desktop</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1126</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1127</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    registry.registerEventListener(_onChildrenChanged,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1128</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                                   "object:children-changed:")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1129</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1130</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # We also want to stop speech when a mouse button is pressed.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1131</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1132</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    registry.registerEventListener(_onMouseButton,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1133</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                                   "mouse:button")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1134</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1135</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    loadUserSettings()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1136</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1137</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    registry.registerKeystrokeListeners(_processKeyboardEvent)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1138</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1139</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if settings.timeoutCallback and (settings.timeoutTime &gt; 0):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1140</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        signal.alarm(0)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1141</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1142</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    _initialized = True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1143</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    return True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1144</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1145</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def start(registry):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1146</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Starts Orca.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1147</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1148</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1149</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    global _PRESENTATION_MANAGERS</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1150</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1151</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if not _initialized:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1152</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        init(registry)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1153</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1154</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Do not hang on startup if we can help it.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1155</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1156</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if settings.timeoutCallback and (settings.timeoutTime &gt; 0):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1157</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        signal.signal(signal.SIGALRM, settings.timeoutCallback)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1158</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        signal.alarm(settings.timeoutTime)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1159</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1160</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if not _PRESENTATION_MANAGERS:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1161</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        import focus_tracking_presenter</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1162</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        _PRESENTATION_MANAGERS = \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1163</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            [focus_tracking_presenter.FocusTrackingPresenter()]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1164</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1165</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    _switchToPresentationManager(0) # focus_tracking_presenter</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1166</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1167</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if settings.timeoutCallback and (settings.timeoutTime &gt; 0):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1168</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        signal.alarm(0)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1169</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1170</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    registry.start()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1171</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1172</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def abort(exitCode=1):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1173</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    os._exit(exitCode)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1174</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1175</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def timeout(signum=None, frame=None):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1176</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    debug.println(debug.LEVEL_SEVERE,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1177</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                  "TIMEOUT: something has hung.  Aborting.")</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1178</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    debug.printStack(debug.LEVEL_ALL)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1179</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    abort(50)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1180</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1181</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def shutdown(script=None, inputEvent=None):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1182</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Exits Orca.  Unregisters any event listeners and cleans up.  Also</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1183</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    quits the bonobo main loop and resets the initialized state to False.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1184</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1185</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Returns True if the shutdown procedure ran or False if this module</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1186</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    was never initialized.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1187</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1188</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1189</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    global _initialized</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1190</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1191</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if not _initialized:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1192</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        return False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1193</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1194</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Try to say goodbye, but be defensive if something has hung.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1195</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1196</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if settings.timeoutCallback and (settings.timeoutTime &gt; 0):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1197</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        signal.signal(signal.SIGALRM, settings.timeoutCallback)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1198</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        signal.alarm(settings.timeoutTime)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1199</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1200</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Translators: this is what Orca speaks and brailles when it quits.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1201</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1202</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    speech.speak(_("Goodbye."))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1203</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    braille.displayMessage(_("Goodbye."))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1204</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1205</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Deregister our event listeners</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1206</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1207</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    registry = atspi.Registry()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1208</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    registry.deregisterEventListener(_onChildrenChanged,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1209</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                                     "object:children-changed:")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1210</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    registry.deregisterEventListener(_onMouseButton,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1211</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                                     "mouse:button")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1212</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1213</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if _currentPresentationManager &gt;= 0:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1214</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        _PRESENTATION_MANAGERS[_currentPresentationManager].deactivate()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1215</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1216</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Shutdown all the other support.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1217</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1218</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if settings.enableSpeech:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1219</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        speech.shutdown()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1220</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if settings.enableBraille:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1221</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        braille.shutdown();</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1222</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if settings.enableMagnifier:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1223</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        mag.shutdown();</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1224</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1225</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    registry.stop()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1226</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1227</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if settings.timeoutCallback and (settings.timeoutTime &gt; 0):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1228</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        signal.alarm(0)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1229</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1230</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    _initialized = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1231</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    return True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1232</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1233</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>exitCount = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1234</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def shutdownOnSignal(signum, frame):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1235</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    global exitCount</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1236</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1237</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    debug.println(debug.LEVEL_ALL,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1238</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                  "Shutting down and exiting due to signal = %d" \</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1239</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                  % signum)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1240</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1241</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    debug.println(debug.LEVEL_ALL, "Current stack is:")</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1242</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    debug.printStack(debug.LEVEL_ALL)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1243</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1244</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Well...we'll try to exit nicely, but if we keep getting called,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1245</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # something bad is happening, so just quit.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1246</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1247</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if exitCount:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1248</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        abort(signum)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1249</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1250</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        exitCount += 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1251</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1252</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Try to do a graceful shutdown if we can.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1253</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1254</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if settings.timeoutCallback and (settings.timeoutTime &gt; 0):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1255</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        signal.signal(signal.SIGALRM, settings.timeoutCallback)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1256</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        signal.alarm(settings.timeoutTime)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1257</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1258</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    try:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1259</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        if _initialized:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1260</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            shutdown()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1261</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1262</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # We always want to try to shutdown speech since the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1263</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # speech servers are very persistent about living.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1264</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1265</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            speech.shutdown()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1266</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            shutdown()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1267</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        cleanExit = True</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1268</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1269</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        cleanExit = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1270</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1271</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if settings.timeoutCallback and (settings.timeoutTime &gt; 0):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1272</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        signal.alarm(0)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1273</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1274</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if not cleanExit:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1275</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        abort(signum)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1276</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1277</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def abortOnSignal(signum, frame):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1278</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    debug.println(debug.LEVEL_ALL,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1279</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                  "Aborting due to signal = %d" \</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1280</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                  % signum)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1281</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    abort(signum)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1282</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1283</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def usage():</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1284</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Prints out usage information."""</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1285</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    print "Usage: orca [OPTION...]"</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1286</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    print</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1287</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    print "-?, --help                   Show this help message"</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1288</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    print "-v, --version                %s" % platform.version</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1289</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    print "-s, --setup, --gui-setup     Set up user preferences"</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1290</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    print "-t, --text-setup             Set up user preferences (text version)"</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1291</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    print "-n, --no-setup               Skip set up of user preferences"</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1292</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    print "-u, --user-prefs-dir=dirname Use alternate directory for user preferences"</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1293</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    print "-e, --enable=[speech|braille|braille-monitor|magnifier|main-window] Force use of option"</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1294</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    print "-d, --disable=[speech|braille|braille-monitor|magnifier|main-window] Prevent use of option"</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1295</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    print "-q, --quit                   Quits Orca (if shell script used)"</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1296</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    print</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1297</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    print "If Orca has not been previously set up by the user, Orca\nwill automatically launch the preferences set up unless\nthe -n or --no-setup option is used."</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1298</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    print</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1299</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    print "Report bugs to orca-list@gnome.org."</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1300</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    pass</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1301</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1302</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def main():</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1303</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """The main entry point for Orca.  The exit codes for Orca will</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1304</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    loosely be based on signals, where the exit code will be the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1305</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    signal used to terminate Orca (if a signal was used).  Otherwise,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1306</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    an exit code of 0 means normal completion and an exit code of 50</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1307</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    means Orca exited because of a hang."""</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1308</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1309</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    global _commandLineSettings</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1310</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1311</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Method to call when we think something might be hung.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1312</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1313</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    settings.timeoutCallback = timeout</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1314</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1315</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Various signal handlers we want to listen for.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1316</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1317</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    signal.signal(signal.SIGHUP, shutdownOnSignal)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1318</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    signal.signal(signal.SIGINT, shutdownOnSignal)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1319</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    signal.signal(signal.SIGTERM, shutdownOnSignal)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1320</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    signal.signal(signal.SIGQUIT, shutdownOnSignal)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1321</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    signal.signal(signal.SIGSEGV, abortOnSignal)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1322</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1323</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # See if the desktop is running.  If it is, the import of gtk will</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1324</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # succeed.  If it isn't, the import will fail.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1325</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1326</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    desktopRunning = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1327</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    try:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1328</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        if gtk.gdk.display_get_default():</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1329</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            desktopRunning = True</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1330</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1331</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        pass</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1332</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1333</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Parse the command line options.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1334</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1335</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Run the preferences setup if the user has specified</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1336</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # "--setup" or "--text-setup" on the command line.  If the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1337</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # desktop is not running, we will fallback to the console-based</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1338</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # method as appropriate.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1339</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1340</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    bypassSetup     = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1341</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    setupRequested  = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1342</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    showGUI         = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1343</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1344</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # We hack a little here because the shell script to start orca can</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1345</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # conflate all of command line arguments into one string, which is</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1346</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # not what we want.  We detect this by seeing if the length of the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1347</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # argument list is 1.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1348</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1349</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    arglist = sys.argv[1:]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1350</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if len(arglist) == 1:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1351</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        arglist = arglist[0].split()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1352</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1353</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    try:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1354</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # ? is for help</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1355</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # e is for enabling a feature</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1356</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # d is for disabling a feature</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1357</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # h is for help</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1358</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # u is for alternate user preferences location</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1359</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # s is for setup</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1360</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # n is for no setup</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1361</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # t is for text setup</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1362</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # v is for version</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1363</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1364</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        opts, args = getopt.getopt(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1365</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            arglist,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1366</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            "?stnvd:e:u:",</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1367</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            ["help",</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1368</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>             "user-prefs-dir=",</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1369</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>             "enable=",</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1370</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>             "disable=",</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1371</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>             "setup",</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1372</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>             "gui-setup",</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1373</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>             "text-setup",</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1374</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>             "no-setup",</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1375</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>             "version"])</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1376</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        for opt, val in opts:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1377</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if opt in ("-u", "--user-prefs-dir"):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1378</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                userPrefsDir = val.strip();</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1379</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                try:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1380</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    os.chdir(userPrefsDir)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1381</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    settings.userPrefsDir = userPrefsDir</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1382</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1383</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    debug.printException(debug.LEVEL_FINEST)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1384</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1385</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if opt in ("-e", "--enable"):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1386</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                feature = val.strip()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1387</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                if feature == "speech":</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1388</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    _commandLineSettings["enableSpeech"] = True</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1389</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                elif feature == "braille":</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1390</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    _commandLineSettings["enableBraille"] = True</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1391</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                elif feature == "braille-monitor":</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1392</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    _commandLineSettings["enableBrailleMonitor"] = True</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1393</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                elif feature == "magnifier":</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1394</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    _commandLineSettings["enableMagnifier"] = True</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1395</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                elif feature == "main-window":</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1396</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    _commandLineSettings["showMainWindow"] = True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1397</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1398</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    usage()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1399</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    os._exit(2)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1400</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1401</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if opt in ("-d", "--disable"):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1402</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                feature = val.strip()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1403</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                if feature == "speech":</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1404</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    _commandLineSettings["enableSpeech"] = False</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1405</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                elif feature == "braille":</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1406</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    _commandLineSettings["enableBraille"] = False</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1407</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                elif feature == "braille-monitor":</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1408</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    _commandLineSettings["enableBrailleMonitor"] = False</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1409</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                elif feature == "magnifier":</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1410</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    _commandLineSettings["enableMagnifier"] = False</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1411</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                elif feature == "main-window":</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1412</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    _commandLineSettings["showMainWindow"] = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1413</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1414</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    usage()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1415</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    os._exit(2)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1416</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1417</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if opt in ("-s", "--gui-setup", "--setup"):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1418</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                setupRequested = True</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1419</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                showGUI = desktopRunning</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1420</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if opt in ("-t", "--text-setup"):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1421</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                setupRequested = True</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1422</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                showGUI = False</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1423</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if opt in ("-n", "--no-setup"):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1424</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                bypassSetup = True</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1425</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if opt in ("-?", "--help"):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1426</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                usage()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1427</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                os._exit(0)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1428</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if opt in ("-v", "--version"):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1429</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                print "Orca %s" % platform.version</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1430</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                os._exit(0)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1431</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1432</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        debug.printException(debug.LEVEL_OFF)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1433</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        usage()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1434</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        os._exit(2)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1435</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1436</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Do not run Orca if accessibility has not been enabled.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1437</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # We do allow, however, one to force Orca to run via the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1438</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # "-n" switch.  The main reason is so that things such</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1439</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # as accessible login can work -- in those cases, the gconf</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1440</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # setting is typically not set since the gdm user does not</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1441</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # have a home.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1442</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1443</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    a11yEnabled = settings.isAccessibilityEnabled()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1444</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if (not bypassSetup) and (not a11yEnabled):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1445</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        _showPreferencesConsole()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1446</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        abort()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1447</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1448</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if setupRequested and (not bypassSetup) and (not showGUI):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1449</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        _showPreferencesConsole()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1450</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1451</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if not desktopRunning:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1452</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        print "Cannot start Orca because it cannot connect"</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1453</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        print "to the Desktop.  Please make sure the DISPLAY"</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1454</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        print "environment variable has been set."</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1455</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        return 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1456</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1457</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    userprefs = settings.userPrefsDir</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1458</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    sys.path.insert(0, userprefs)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1459</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    sys.path.insert(0, '') # current directory</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1460</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1461</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    registry = atspi.Registry()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1462</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    init(registry)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1463</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1464</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    try:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1465</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        message = _("Welcome to Orca.")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1466</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        speech.speak(message)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1467</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        braille.displayMessage(message)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1468</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1469</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        debug.printException(debug.LEVEL_SEVERE)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1470</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1471</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Check to see if the user wants the configuration GUI. It's</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1472</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # done here so that the user's existing preferences can be used</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1473</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # to set the initial GUI state.  We'll also force the set to</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1474</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # be run if the preferences file doesn't exist, unless the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1475</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # user has bypassed any setup via the --no-setup switch.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1476</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1477</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if setupRequested and (not bypassSetup) and showGUI:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1478</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        _showPreferencesGUI()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1479</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    elif (not _userSettings) and (not bypassSetup):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1480</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        if desktopRunning:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1481</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            _showPreferencesGUI()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1482</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1483</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            _showPreferencesConsole()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1484</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1485</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    start(registry) # waits until we stop the registry</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1486</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    return 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1487</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1488</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>if __name__ == "__main__":</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1489</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    sys.exit(main())</pre></td>
</tr>

</tbody>
</table>


<p class="footer">
Report generated by <a href="http://cheeseshop.python.org/pypi/trace2html"
>trace2html</a> on 2007-08-19 21:25:08.524819.
</p>

</body>

</html>
