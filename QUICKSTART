CONTENTS:
---------

I.    BRAILLE
II.   SPEECH
III.  ORCA ON UBUNTU 5.10
IV.   ORCA ON FEDORA CORE 4
V.    ORCA ON LINUX DISTRIBUTION
VI.   WRITING SCRIPTS
VII.  KNOWN PROBLEMS
VIII. FAQ
IX.   REPORTING BUGS
X.    CONTRIBUTING


NOTE: When using cvs, you may see warnings containing the following
text:

    failed to open .cvspass for reading"

If you do a "touch ~/.cvspass, you can avoid these warnings.


I. BRAILLE:
-----------

Orca uses BrlTTY to provide access to braille displays.  One of the
main reasons for this is that helps Orca cooperate well in an
environment where a user switches between a graphical and
non-graphical environment.

Orca has been tested with versions 3.6.2 and 3.7.0 of BrlTTY.  You can
obtain BrlTTY from http://www.mielke.cc/brltty/.  Here are typical
commands you will execute to build/install BrlTTY (you might need to
download compilers and other essential build tools for your platform
first):

tar xzf brltty-3.7.tar.gz
cd brltty-3.7
./configure --prefix=/usr
make
sudo make install

Follow the documentation at http://www.mielke.cc/brltty/ for more
information on building, installing, and running BrlTTY.


II. SPEECH:
-----------

Orca uses gnome-speech to provide speech output.  Gnome-speech is a
separate GNOME module that provides a service oriented architecture to
access speech synthesis engines as system services.  Gnome-speech
provides support for a number of speech synthesis engines, including
freely available ones: festival and FreeTTS.

FreeTTS can be obtained from http://freetts.sourceforge.net/, and
requires the Java platform.  Festival ships with Fedora Core 4 by 
default, and can be obtained for Unbuntu 5.10 by performing the
following command:

   sudo apt-get install festival

The gnome-speech module contains information on setting up
gnome-speech for the various synthesis engines.  To obtain the latest
gnome-speech source code, one can perform the following steps:

cd $HOME
cvs -z3 -d:pserver:anonymous@anoncvs.gnome.org:/cvs/gnome co gnome-speech

NOTE: before running Orca, one should make sure gnome-speech is
actually working before assuming there is a problem with Orca.  To
test gnome-speech, one can run its "test-speech" application; it will
provide you with the ability to view and hear the various speech
synthesis engines that gnome-speech knows about on your system.


III. ORCA ON UBUNTU 5.10:
-------------------------

1) Install from CD.

2) Get Necessary Packages

   sudo apt-get install emacs21

   sudo apt-get install build-essential cvs ssh \
        autoconf automake1.4 automake1.7 automake1.9 \
        docbook docbook-utils docbook-xsl \
        docbook2x doxygen bison flex libpopt-dev jade \
   	libtool intltool pkg-config gtk-doc-tools \
   	x-dev x-window-system-dev \
   	libgnome2-dev libbonobo-activation-dev \
        libbonoboui* libgnomeui-* libpanel-applet* \
   	libgnomecanvas2-dev \
	python-dev python-gnome2-dev python-gtk2-dev

3) Checkout/build/install ATK, GAIL, LIBGAIL-GNOME, AT-SPI

   NOTE: The instructions below involve working from GNOME CVS HEAD.
   This can be a very risky thing to do since GNOME CVS HEAD might
   be unstable and can cause your system to become unstable.  If
   you are willing to take the risk (it might require you to reinstall
   your system), then feel free to be adventurous.  If you are not
   excited about taking this risk, then you might be better off trying
   to grab supported packages via: 

      sudo apt-get install libatk* libgail* at-spi* libatspi*

   The versions known to work with Orca on Ubuntu are:

      atk		1.10.3
      gail		1.8.7
      libgail-gnome	1.1.2
      at-spi		1.6.6

   Here's how to get the latest from GNOME CVS HEAD:

   cd $HOME
   cvs -z3 -d:pserver:anonymous@anoncvs.gnome.org:/cvs/gnome co atk
   cd atk
   ./autogen.sh --prefix=/usr
   make
   sudo make install

   cd $HOME
   cvs -z3 -d:pserver:anonymous@anoncvs.gnome.org:/cvs/gnome co gail
   cd gail
   ./autogen.sh --prefix=/usr
   make
   sudo make install

   cd $HOME
   cvs -z3 -d:pserver:anonymous@anoncvs.gnome.org:/cvs/gnome co libgail-gnome
   cd libgail-gnome
   ./autogen.sh --prefix=/usr
   make
   sudo make install

   cd $HOME
   cvs -z3 -d:pserver:anonymous@anoncvs.gnome.org:/cvs/gnome co at-spi
   cd at-spi
   ./autogen.sh --prefix=/usr
   make
   sudo make install

5) GOTO SECTION: "ORCA ON LINUX DISTRIBUTION"

NOTES: Some find it easier to boot their system up without the
graphical X Window System desktop running.  To do this on Ubuntu, you
can run the following command:

   sudo update-rc.d -f gdm remove

You can then reboot your system and it will come up in character cell
mode.  When you login, you can start the X Window System server using
the "xinit" command.  If you want the gnome desktop and Orca running,
you should create a ~/.xinitrc file that looks similar to the
following (note that Orca is run in the background and gnome-session
is run in the foreground):

   orca&
   gnome-session

NOTE also that you should set the GTK_MODULES=:gail:atk-bridge:
property in your shell before starting xinit.  If you do not do this,
some applications, such as gaim, will not use the accessibility
infrastructure and will therefore n ot be accessible via Orca.


IV. ORCA ON FEDORA CORE 4:
-------------------------

1) Do an "everything" install of Fedora Core 4.
   [[[WDW - need to determine exact dependencies.]]]

2) Checkout/build/install the "gnome-common" module from cvs.gnome.org

   cd $HOME
   cvs -z3 -d:pserver:anonymous@anoncvs.gnome.org:/cvs/gnome co gnome-common
   cd gnome-common
   ./autogen.sh --prefix=/usr
   make
   sudo make install
   
3) GOTO SECTION: "ORCA ON LINUX DISTRIBUTION"

NOTES: Some find it easier to boot their system up without the
graphical X Window System desktop running.  To do this on Fedora, you
can modify your /etc/inittab file to tell Fedora to boot to run level
3.  You do this by modifying the line where the initdefault property is
set:

   id:3:initdefault

You can then reboot your system and it will come up in character cell
mode.  When you login, you can start the X Window System server using
the "xinit" command.  If you want the gnome desktop and Orca running,
you should create a ~/.xinitrc file that looks similar to the
following (note that Orca is run in the background and gnome-session
is run in the foreground):

   orca&
   gnome-session

NOTE also that you should set the GTK_MODULES=:gail:atk-bridge:
property in your shell before starting xinit.  If you do not do this,
some applications, such as gaim, will not use the accessibility
infrastructure and will therefore n ot be accessible via Orca.


V. ORCA ON LINUX DISTRIBUTION:
------------------------------

1) Run /usr/bin/test-speech to make sure it works.  If it doesn't,
   this is a gnome-speech problem.  Refer to the "SPEECH" section
   for more information on gnome-speech.

2) Checkout/build/install Orca

   cd $HOME
   cvs -z3 -d:pserver:anonymous@anoncvs.gnome.org:/cvs/gnome co orca
   cd orca
   ./autogen.sh --prefix=/usr
   make
   sudo make install

3) Run /usr/bin/orca-setup.

4) Log out and log back in to make the accessibility property take effect.

5) Run /usr/bin/orca


VI. WRITING SCRIPTS:
--------------------

Orca is a scriptable screen reader, permitting you to write your own
custom scripts to provide custom interaction with individual
applications.

[[[WDW: point to script writing guide (it's in source form in the 
Orca module under docs/doc-set/script_guide.sgml and is currently
under development).]]]

[[[WDW: work on a way for people to contribute their scripts back to
the community.  Perhaps via patches to the orca module, perhaps via
a web site, perhaps via a mailing list, etc.]]]


VII. KNOWN PROBLEMS:
--------------------

1) Doesn't work on a 64-bit architecture.  Unsure why at this point,
   but you will get the following error:

   Traceback (most recent call last):
     File "/usr/bin/orca-setup", line 64, in ?
       import orca.speech as speech
     File "/usr/lib/python2.4/site-packages/orca/speech.py", line 29, in ?
       from core import ORBit, bonobo
   ImportError: No module named core

   This appears to be related to competing /usr/lib and /usr/lib64
   directories.  One way to start hacking around this is to move the contents
   of /usr/lib64/python2.4/site-packages/orca/* to 
   of /usr/lib/python2.4/site-packages/orca/* and then deleting
   of /usr/lib64/python2.4/site-packages/orca.  This works around part
   of the problem, but gnome-speech has similar issues.

2) test-speech will often fail when you attempt to use the festival
   speech synthesis engine:

   % /usr/bin/test-speech
   1: OAFIID:GNOME_Speech_SynthesisDriver_Festival:proto0.3

   Select a server: 1
   Attempting to activate OAFIID:GNOME_Speech_SynthesisDriver_Festival:proto0.3.
   Server could not be initialized.

   You can fix this by making sure "localhost" is listed before
   "localhost.localdomain" in the 127.0.0.1 line in /etc/hosts.  
   Or, you can also follow an alternative route described at:
   http://mail.gnome.org/archives/gnome-accessibility-devel/2005-February/msg00017.html


VIII. FAQ:
----------

Q: Orca isn't speaking, how do I make it work?

A: This is most likely an issue with gnome-speech configuration.  Here's
   a debugging procedure that can help you narrow down what is going wrong:

   1) Kill all synthesis drivers running on the machine:

      kill -9 \
      `ps -elf | grep synthesis-driver | grep -v grep | awk '{ print $4 }'`
   
   2) In a separate dedicated terminal window, run your gnome-speech
      synthesis driver of choice.  For example:

      /usr/bin/festival-synthesis-driver

   3) In another separate dedicated terminal window, run the gnome-speech
      "test-speech" application:

      /usr/bin/test-speech

   4) When test-speech is running, it should show you a listing of 
      available synthesis drivers, and the one you started in step #2
      above should be listed.  If it isn't, there's most likely a
      Bonobo registration problem or your synthesis driver didn't
      start.  Check the output in the terminal window from step #2
      and see if it has any messages.  If it does, these will be
      useful when you contact the gnome-speech folks for help.

      Otherwise, if all is OK, you should see something like the following:

        [wwalker@fedora orca]$ /usr/bin/test-speech
        1: OAFIID:GNOME_Speech_SynthesisDriver_FreeTTS:proto0.3
        2: OAFIID:GNOME_Speech_SynthesisDriver_Festival:proto0.3
        3: OAFIID:GNOME_Speech_SynthesisDriver_Dectalk:proto0.3

        Select a server:

   5) If all is OK so far, from test-speech, select the synthesis 
      driver you started in step #2.  You should now see something
      like the following:

        Attempting to activate OAFIID:GNOME_Speech_SynthesisDriver_Festival:proto0.3.
        Driver name: Festival GNOME Speech Driver
        Driver version: 0.3
        Synthesizer name: Festival Speech Synthesis System
        Synthesizer Version: 1.95

        Enter desired gender ('m' or 'f'): 

      Select 'm' and then 'all':

        Enter desired gender ('m' or 'f'): m

        Enter desired locale, or 'all' to display all voices: all
        1. kal_diphone (language english)
        2. ked_diphone (language english)

      At this point, gnome-speech should have spoken something.  If
      it didn't, check the output in the terminal window you used for
      step #2.  It may give you some informative information.  For
      example, perhaps you need to modify your /etc/hosts file as
      described in the "KNOWN PROBLEMS" section of this document.


Q: How do I enable the The Java platform support isn't working for me.

A: The java-access-bridge provides the needed support for interacting
   with Java applications, including both applications and gnome-speech
   drivers such as the gnome-speech driver for FreeTTS.

   More information on the java-access-bridge can be found here:
   http://cvs.gnome.org/viewcvs/*checkout*/java-access-bridge/INSTALL


Q: Speech disappeared on me.  What's happening?

A: There may be device contention between your speech synthesis system
   and the sounds emitted by your base OS.  Unfortunately, we're not
   sure how to get both working well right now (rumor has it that there
   may be some fixes to the Linux sound architecture, ALSA, to fix this).
   For now, you will need to disable system sounds.

IX. REPORTING BUGS:
-------------------

Report bugs at http://bugzilla.gnome.org under the "orca" module.
Note that Orca is not part of the GNOME 2 desktop yet.  So, when it
comes to selecting the module, you will need to click on the checkbox
that says "Click here to also show applications not part of the GNOME
2 Desktop."  Orca will then be listed as the "orca" module.


X. CONTRIBUTING:
----------------

[[[WDW: work on this.  For now, people are encouraged to contribute
bug reports, RFEs, and patches to the orca module via the
http://bugzilla.gnome.org site.]]]

TODO: Need to include the following somewhere:

  * Specific use instructions for specific desktop productivity apps.
