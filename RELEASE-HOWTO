This document provides a step-by-step list to remind Orca
maintainers how to make a release.

The general instructions for a release are here:

  http://live.gnome.org/MaintainersCorner/Releasing
  http://developer.gnome.org/dotplan/for_maintainers.html

Here's a summary for Orca:

PREPARE SOURCES FOR THE RELEASE:
-------------------------------

Modify these lines in ./configure.in:

  ORCA_MAJOR_VERSION=2
  ORCA_MINOR_VERSION=19
  ORCA_MICRO_VERSION=6

Modify ./README to make sure it has the right Orca version.

Update ./NEWS based upon entries in ./ChangeLog, or based upon git output
from a git command like the following:

git log --pretty=format:"%ai %an <%ae>%n%n        %s%n" --name-status ORCA_2_27_4..

NOTE about giving credit to translators:

You should get the translator name from the "Last Translator" field in
the .po file, not from po/Changelog. Sometimes the translator is not the
same person as who commits the file.

NOTE: You should also make sure the external dependencies listed in
configure.in and README are accurate.


BUILD THE RELEASE:
-----------------

./autogen.sh && make && make install &&  make distcheck

For sanity, you should run pylint (http://live.gnome.org/Orca/Pylint).


TEST THE CANDIDATE:
------------------

cd /tmp
gunzip -c orca-2.19.6.tar.gz | tar xvf -
cd orca-2.19.6
./configure --prefix=`pwd`/bld
make
sudo make install
./bld/bin/orca


COMMIT RELEASE CHANGES AND TAG THE RELEASE:
-------------------------------------------

git commit -a
git push
git tag -a ORCA_2_19_6
git push origin ORCA_2_19_6


UPLOAD THE RELEASE:
------------------

scp orca-2.19.6.tar.gz wwalker@master.gnome.org:
ssh master.gnome.org
install-module orca-2.19.6.tar.gz


IDENTIFY TRUNK AS "PRE":
------------------------

Modify these lines in ./configure.in:

  ORCA_MAJOR_VERSION=2
  ORCA_MINOR_VERSION=19
  ORCA_MICRO_VERSION=90pre

Modify ./README to make sure it has the right "pre" version.

git commit -a
git push

ANNOUNCE THE RELEASE
--------------------

To: gnome-announce-list@gnome.org:
Subject: Announcing Orca v2.19.6

===============
* What is Orca?
===============

Orca is a free, open source, flexible, and extensible screen reader
that provides access to the graphical desktop via user-customizable
combinations of speech, braille, and/or magnification.  Orca
development has been led by the Sun Microsystems, Inc., Accessibility
Program Office via continued engagement with its end users and
contributions from wonderful community members.

You can also read more about Orca at http://live.gnome.org/Orca.

==================================
* What's changed for Orca v2.19.6?
==================================

<<<INSERT NEWS HERE>>>

======================
* Where can I get it ?
======================

You can obtain Orca v2.19.6 in source code form at the following:

http://download.gnome.org/sources/orca/2.19/orca-2.19.6.tar.gz
http://download.gnome.org/sources/orca/2.19/orca-2.19.6.tar.bz2

Enjoy!

The Orca Team
