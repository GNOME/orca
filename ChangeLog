2006-04-17  Willie Walker <william.walker@sun.com>

	* src/orca/default.py: fix for bug 338687 - no longer
	automatically speaks unbound text in panels that suddenly appear.
	NOTE that Orca will still automatically speak dialogs and such.
	NOTE ALSO that this fix probably breaks wizard dialogs, but wizards
	are so broken, anyway, that I think they need to be handled a little
	differently.
	* src/orca/atspi.py, src/orca/settings.py: fix for bug 334924 to
	keep the cache in better sync.  Also use settings.cacheValues 
	setting instead of atspi.CACHE_VALUES to allow easier setting
	and unsetting of whether to cache or not.
	* src/orca/default.py: more work for bug 319643. Magnification is
	working again, though it does indeed need a bit of work to make it
	usable.  See also http://bugzilla.gnome.org/show_bug.cgi?id=323032.
	* src/orca/orca.py, src/orca/mag.py: patch for bug 319643 - recover
	gracefully from failures when attempting to load the magnifier.
	This allows Orca to work if gnome-mag had not been installed.
	* src/orca/rolenames.py, src/orca/atspi.py,
	src/orca/scripts/gedit.py, src/orca/scripts/gaim.py: fix for bug
	319789 - fallback to localized rolename if it exists.	
	* src/orca/orca-setup.in: fix for bug 330631 - put rate, gain,
	and pitch in user-settings.py.
	* src/orca/orca.py: fix for bug 319651 - issue a message and abort
	orca if accessibility has not been enabled for the session.
	* src/orca/debug.py: update documentation to reflect new way to
	set debugLevel.
	* test/harness/user-settings.py.in: update to reflect new settings
	and new method for setting settings.
	
2006-04-16  Willie Walker <william.walker@sun.com>

	* src/orca/orca_i18n.py.in: fix for bug 338690: orca_i18n was not
	working as expected.	
	* src/orca/default.py, src/orca/util.py,
	src/orca/scripts/Mozilla.py, src/orca/scripts/StarOffice.py: make
	sayLine, sayWord, and sayCharacter be object methods as opposed to
	top level module methods.  Also move textLines and getLinkIndex
	methods from default.py to util.py. These changes merely reflect a
	small cleanup of the object-oriented nature of the code and should
	not have any impact on the end user experience.
	
2006-04-15  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py: provide some delimiter
	output to make it easier to identify the various processing
	steps that are done when an event is processed.
	* src/orca/speechgenerator.py, src/orca/scripts/gnome-terminal.py:
	remove some speech output.  This seems to eliminate hearing 
	"terminal" 6 times, but it does not address the repetitive stuff
	that's going on when you go through the profile editing tabs.
	* src/orca/orca.py: delay registration of keyboard listeners until
	after the user preferences have been loaded.  This prevents
	exceptions from occurring if the user types on the keyboard in
	between the time the user starts orca and the time orca is fully
	initialized.
	* src/orca/orca-setup.in: remove an errant ")" at the end of a
	commented out debug line.
 	
2006-04-14  Willie Walker <william.walker@sun.com>

	* src/orca/*.py, src/orca/scripts/*.py: general pass at
	removing trailing whitespace from source code, removing
	tabs, and making sure copyrights are up to date.
	
	* src/orca/default.py, src/orca/orca.py, src/orca/script.py,
	src/orca/scripts/Evolution.py, src/orca/scripts/Mozilla.py,
	src/orca/scripts/StarOffice.py, src/orca/scripts/gcalctool.py,
	src/orca/scripts/gdmlogin.py, src/orca/scripts/gedit.py,
	src/orca/scripts/gnome-terminal.py, src/orca/scripts/metacity.py,
	src/orca/scripts/planner.py: break HUGE default.py:__init__
	method up and provide 4 new methods to script.py:

        setupInputEventHandlers: sets up input event handlers for a script
	getListeners: returns dictionary of AT-SPI event listeners 
        getKeyBindings: returns keybindings that define which keystrokes
	                call which input event handlers
        getBrailleBindings: returns braillebindings that define which
	                braille input events call which input event
	                handlers

	This change allows subclasses to more easily define and override
	the various features.
	
2006-04-13  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py, src/orca/atspi.py: pass
	one at bug 334893.  This patch adds the knowledge of the toolkit
	name and version to an Accessible's application.  In the event
	that a custom script cannot be found for an application, this
	patch also attempts to load a script module based upon the toolkit
	name before falling back to the default script.  The main
	restriction of this patch is that it does not allow one to
	override the toolkit module (i.e., settings.scriptPackages is not
	used) and the toolkit module must be in the "orca" package.  This
	probably should be relaxed at some point, but I'm not comfortable
	with mixing toolkit scripts and application scripts in the same
	packages because of potential Python namespace conflicts (e.g., an
	application written in Java named "GAIL" and an application
	written using the GAIL toolkit might accidentally both end up
	using the GAIL script).
	
	* src/orca/braille.py, src/orca/braillegenerator.py,
	src/orca/debug.py, src/orca/default.py,
	src/orca/focus_tracking_presenter.py,
	src/orca/gnomespeechfactory.py, src/orca/input_event.py,
	src/orca/orca-setup.in, src/orca/orca.py, src/orca/rolenames.py,
	src/orca/script.py, src/orca/settings.py, src/orca/speech.py,
	src/orca/speechgenerator.py, src/orca/scripts/Evolution.py,
	src/orca/scripts/StarOffice.py: fix for bug 338240 to refactor the
	way user-settings are managed.  This new method removes the
	two-tier approach and has user-settings.py set values in
	settings.py.  It also isolates the default values to settings.py
	and removes a fair amount of complexity.  Furthermore, this
	includes nascent support (Insert+Ctrl+s) to allow the user to
	dynamically reload user-settings.py should they edit it while Orca
	is running.  The reload will also restart speech and braille.
	
2006-04-12  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py
          src/orca/orca.py
          In the _keyEcho() routine in orca.py, no longer do anything
          special if this is a printable character and a "special" 
          component ("special" is an editable component or a terminal).

          In the onTextInserted() routine in default.py, check if the 
          last input event was a keyboard event, check to see if the 
          text for this event matches what the user typed. If it does,
          then don't speak it.
        
           Note that we have to special case the space character as it 
           comes across as "space" in the keyboard event and " " in the
           text event.

2006-04-11  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py
          Added code to the onTextInserted() method to say the last word
          when "echo by word" is enabled. Note that it's not speaking the
          punctuation or whitespace after the word at the moment. That 
          will require some changes to the sayWord() method.

2006-04-11  Rich Burridge <rich.burridge@sun.com>

        * src/orca/settings.py  
          src/orca/orca.py
          src/orca/default.py
          src/orca/orca-setup.in
          Changes to the way key echo work per the key and word echo
          requirements spec.

          Key echo applies to the entire keyboard and is for echoing 
          keys as they are pressed. The keys are broken into the following 
          groups that the user can optionally enable for echoing:

          o Alphanumeric and punctuation keys

          o Modifier keys: CTRL, ALT, Shift, Insert, and "Fn" on laptops.

          o Locking keys: Caps Lock, Num Lock, Scroll Lock, etc.

          o Function keys: The keys at the top of the keyboard.

          o Action keys: space, enter, escape, tab, backspace, delete, arrow
            keys, page up, page down, etc.

          When a key from any enabled group is pressed, the key will 
          be spoken.

          The onTextInserted() method only speaks the text associated
          with the "object:text-change:insert" event if key echoing and
          echoing of printable characters are both enabled.

          The orca-setup.in script has been adjusted to ask various questions
          to allow the user to setup whether these types of keys will be
          echoed or not.

        * src/orca/settings.py
          src/orca/braille.py
          src/orca/focus_tracking_presenter.py
          src/orca/orca.py
          src/orca/orca-setup.in
          Refactoring of use<name> to enable<name> for various settings to
          be consistent in style with the names for the new keyboard 
          enabling types.

          The orca-setup.in script has been adjusted to use these new names.

2006-04-10  Willie Walker <william.walker@sun.com>

	* docs/doc-set/*: update requirements
	
2006-04-09  Willie Walker <william.walker@sun.com>

	* src/orca/scripts/planner.py: use new braille API to for 
	displayRegions and also handle the label a little better.
	* src/orca/orca.py, src/orca/settings.py: fix for bug 337857,
	allow user to customize which key(s) can be used as the Orca
	modifier key.
	* po/POTFILES.in: add gedit and utils.
	
2006-04-08  Willie Walker <william.walker@sun.com>

	* src/orca/braille.py, src/orca/scripts/Evolution.py
	src/orca/scripts/StarOffice.py: fix for bug 337704 - add API
	symmetry to braillegenerator.py:getBrailleRegions and
	braille.py:displayRegions.
	* src/orca/orca-setup.in: fix for RFE (bug 337709) - force
	speaking rate parameter to be added to ACSS for default force.
	
2006-04-07  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py
          Small change to the onTextInserted() method as part of the
          key echo revamp. If echoing by character and word are both 
          off, then just return and don't speak anything.

          [Update: change removed for now as it has the side-effect
           of no longer speaking any text that's inserted into the gedit or
           gnome-terminal application. Need to find out how to determine
           whether this "object:text-changed:insert" event was generated
           as the result of a key being pressed.]

2006-04-07  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added in the following GNOME planner bug:

          http://bugzilla.gnome.org/show_bug.cgi?id=337659
          Planner Edit Task Properties dialog has broken accessible 
          component hierarchy.

2006-04-07  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/planner.py
          Adjustment to case #1 in the onFocus() method, to also add
          the label for the toggle button to the braille display.

2006-04-07  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.in
          Several changes to the orca-setup script:
          - Removed the "Use key echo?" question and associated
            orca.settings.USE_KEY_ECHO setting. 
          - Replaced it with:
            "Echo by word, character, both or none?  Enter w, c, b or n: "
            which  will set two settings to True or False:
              orca.settings.USE_ECHO_BY_WORD
              orca.settings.USE_ECHO_BY_CHAR
            depending upon the users answer.
          - Added in another question: "Use Braille Monitor?  Enter y or n: ".
            The Braille Monitor is a visual representation of what is being
            brailled by Orca.
          - Automatically create a "orca-scripts" directory under the
            users .orca directory, if it doesn't already exist.
          - Automatically create an empty __init__.py file in the 
            orca-scripts directory, if it doesn't already exist. 
            This will enable the user to put their own specific 
            applications scripts in the orca-scripts directory, 
            and Orca will pick them up.
          - Added a section of code that will generate the following lines
            at the end of the user's user-settings.py file:

              try:
                  __import__("orca-customizations")
              except ImportError:
                  pass

            What this means is that Orca will now look for a file
            called "orca-customizations.py" in the user's .orca directory.
            This file should contain any custom Orca Python code that the
            user wants. Having it in a separate file from user-settings.py
            means it won't get blown away when you rerun orca-setup

2006-04-06  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca.py
          Added in two sections of code in _keyEcho():
          - check to see if the key event is for a "special" key (via
            the new _specialKey method) and if so, then handle its 
            echoing in the _keyEcho method. Currently this is just testing
            for Control, Alt, Shift and Meta. Over time, this routine
            will be tweaked to handle the full set of special keys.

          - check to see if the object that currently has focus is an 
            editable text object or has a role of "terminal". If so, and
            its not a special key, then the echoing of the key event will 
            occur via an "object:text-changed:insert" event.

          This improves the double echoing that was previously happening.

2006-04-06  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca.py
          Slight refactoring to move some keyboard echo code out of
          _processKeyboardEvent() and  into the _keyEcho() method.
          _keyEcho() now takes an event (AT-SPI DeviceEvent) parameter
          rather than an event_string so that at a later date, we can 
          fully interrogate the keyboard event we've just received.

2006-04-06  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/planner.py src/orca/scripts/Evolution.py
          src/orca/scripts/planner.py src/orca/scripts/Evolution.py
          Adjusted case #1 in the onFocus() method in the planner.py 
          script, to fall through and also do the default action for
          the focus event.

          Removed the walkComponentHierarchy() from the planner,
          Evolution, StarOffice and gedit scripts and used calls to
          atspi.printAncestry(event.source) instead.

2006-04-06  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py, src/orca/atspi.py,
	src/orca/hierarchical_presenter.py, src/orca/scripts/metacity.py:
	fix for bug 337489 where metacity script would inappropriately
	think apps that started after Orca started were inaccessible.
	
2006-04-05  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py, orca/src/settings.py: fix
	for bug 337322 where the user was not being notified of window
	title changes when the user uses Alt+TAB to tab between windows.
	The primary culprit was name space pollution by GTK, but Orca
	should sheild itself from this.  This fix provides that shield
	somewhat, but the ramification is that scripts are no longer
	picked up from the local directory (which was just a convenience
	for script writers).	
	* docs/doc-set/*.{sgml,html,pdf}: make this compile again.  For
	some bizarre reason, docbook on my Ubuntu box no longer liked "_"
	in entities or ids, and it was easier to get rid of them rather
	than scour the web to see what was going wrong.
	
2006-04-05  Rich Burridge <rich.burridge@sun.com>

        * src/orca/atspi.py
          Changes to the __get_label() method. The check to see if the
          object has a name (and if so, return it), has been moved to
          the beginning. The improves the readibility of checkboxes on 
          various StarOffice options dialog panes.

          The special case code for push buttons with children, has been 
          adjusted to no longer first check to see if the push button has 
          a name.

2006-04-05  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py
          Couple of changes to the visualAppearanceChanged() method.

          1/ If this object is CONTROLLED_BY the object that currently
             has focus, speak/braille this object.

          2/ If this object is a label, and if it has a LABEL_FOR relation
             to the focused object, then we should speak/braille the
             focused object, as if it had just got focus.

2006-04-05  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added in the following GNOME planner bug:

          http://bugzilla.gnome.org/show_bug.cgi?id=337382
          Toggle button in main window not accessible</td>

          Also fixed up the table of OpenOffice bugs.

2006-04-05  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Makefile.am
          src/orca/scripts/planner.py    (new)
          Created a new planner.py script for the Planner application.
          Currently it looks to see if the focus is on one of the four 
          graphical toggle buttons on the left side of the main window 
          and if so, speaks the label associated with it.

2006-04-04  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added the following new OpenOffice bugs:

          http://www.openoffice.org/issues/show_bug.cgi?id=63979
          The User Data options pane is confusing when read with 
          a screen reader.

          http://www.openoffice.org/issues/show_bug.cgi?id=63980
          The StarOffice->General options pane doesn't provide useful 
          labels when read by a screen reader.

          http://www.openoffice.org/issues/show_bug.cgi?id=63981
          The StarOffice->View options pane doesn't provide useful 
          labels for checkboxes when read with a screen reader.

          http://www.openoffice.org/issues/show_bug.cgi?id=63982
          The StarOffice->Print options pane doesn't provide useful 
          information when read with a screen reader.

          http://www.openoffice.org/issues/show_bug.cgi?id=63983
          The StarOffice->Paths options pane table doesn't provide 
          useful information when read with a screen reader.

          http://www.openoffice.org/issues/show_bug.cgi?id=63984
          The StarOffice->Security options pane doesn't provide useful 
          information for checkboxes when read with a screen reader.

          http://www.openoffice.org/issues/show_bug.cgi?id=63985
          The StarOffice->Accessibility options pane doesn't provide 
          useful information for checkboxes when read with a screen 
          reader.

2006-04-02  Willie Walker <william.walker@sun.com>

	* configure.in, orca.spec.in: begin updating dependencies
	
2006-03-31  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added two new Open Office bugs:

          http://www.openoffice.org/issues/show_bug.cgi?id=63870
          Writer doesn't implement text.getDefaultAttributes.

          http://www.openoffice.org/issues/show_bug.cgi?id=63871
          Spreadsheet doesn't implement text.getDefaultAttributes.

2006-03-30  Rich Burridge <rich.burridge@sun.com>

        * src/orca/util.py
          src/orca/scripts/gedit.py
          src/orca/scripts/Evolution.py
          src/orca/scripts/StarOffice.py
          Created a speakMisspeltWord(allTokens, badWord) routine in
          util.py that is now used by the spell checking code for the
          gedit, Evolution and StarOffice scripts.

2006-03-30  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.in
          Fixed bug #336648 (http://bugzilla.gnome.org/show_bug.cgi?id=336648)
          The orca-setup script now successfully completed speaking 
          "Orca setup finished" before the speech server is shutdown.

2006-03-30  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/gedit.py
          Added in spell checking support. The misspelt word and its
          context are now spoken in a similar way to the StarOffice and
          Evolution scripts.

          NOTE: this will currently only work correctly if you turn:
                CACHE_VALUES = False
                in atspi.py. See Orca bug #334924 for more details
                (http://bugzilla.gnome.org/show_bug.cgi?id=334924).

2006-03-30  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added an entry for OpenOffice Writer bug #63818:
          F10 key doesn't bring up the menu bar.

2006-03-27  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Change to the readMisspeltWord() routine to only braille (not 
          speak) the default action for this component.

2006-03-27  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/StarOffice.py
          Changes to the readMisspeltWord() routine to:
          - Only braille (not speak) the default action for this component.
          - Handle misspelt words at the end of the line.
          - Don't respeak the mispelt word and context when tabbing around
            inside the Spell Checker Dialog.

2006-03-27  Rich Burridge <rich.burridge@sun.com>

        * src/orca/rolenames.py
          Fixed bug #330487 (http://bugzilla.gnome.org/show_bug.cgi?id=330487)
          Typo in one of the strings in the rolenames[ROLE_DRAWING_AREA]
          rolename entry.

2006-03-27  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Adjusted the "A.M." and "P.M." suffix occurances in the
          getTimeForCalRow() routine to remove references to urine.

2006-03-17  Willie Walker <william.walker@sun.com>

	* NEWS, configure.in, README: prep for 0.2.2.

2006-03-17  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          src/orca/scripts/StarOffice.py
          Slight adjustment to the spell checking routines. Needed to
          check if each word in the text area starts with the bad word 
          rather than is exactly equal to it. The latter wasn't taken 
          into consideration any possible punctuation symbols.

2006-03-17  Willie Walker <william.walker@sun.com>

	* bugs/bugs.html: triage/update based upon GNOME 2.14.
	
2006-03-16  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py
          Slight tweak to the previous change. Always speak the text 
          attributes for size and family-name. For the others, if the 
          value is the default, then ignore it.

2006-03-16  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py
          Added in a new hotkey combination (Insert+f), that will speak
          a set of text attributes (indent, underline, strikethrough, size,
          family-name, justification and style) for the character at the 
          text caret offset.

          Three new methods created:

              textAttrsToDictionary(str):
              outputCharAttributes(attributes):
              readCharAttributes(inputEvent=None):

         Note that it looks like some applications like Evolution and Star
         Office don't implement text.getDefaultAttributes(). This means
         that we can't always determine the full set of text attributes. 

2006-03-16  Willie Walker <william.walker@sun.com>

	* src/orca/orca-setup.in: make hyperlink voice more
	distinguishable from the normal speaking voice
	* src/orca/scripts/Mozilla.py: do a bit of work with better
	handling of hyperlinks
	
2006-03-15  Willie Walker <william.walker@sun.com>

	* src/orca/brlmon.py: use window manager struts property to
	keep other windows from occluding the brlmon and to push
	them out of the way if necessary.
	* src/orca/util.py: add findFocusedObject method to find the
	focused object under a given root.
	* src/orca/scripts/gdmlogin.py, src/orca/gnome-terminal.py: use
	the util.findFocusedObject method on window activated events.
	
2006-03-14  Willie Walker <william.walker@sun.com>

        * src/orca/scripts/Makefile.am, src/orca/scripts/gdmlogin.py:
        simple script to speak the text area with focus when Orca is
        started.

2006-03-13  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/StarOffice.py
          Adjustment to clause #1 of the onFocus() method to check to see
          if the current paragraph contains one or more hypertext links.
          If it does, then those words containing the links are spoken with
          the HYPERTEXT voice and the word "link" is spoken after them.

2006-03-13  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/StarOffice.py
          Added in support for spell checking when there is more than one
          misspelt word on the same line. Also handles the situation where we
          are getting more than one "object:property-change:accessible-name"
          event for the same misspelt word.

2006-03-09  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py: toss out all children remove
	events unless they are for the desktop.  This is an attempt to deal
	with bursty event behavior for events we may not always care about.
	* src/orca/orca.py, src/orca/focus_tracking_presenter.py: stub in
	some experimental timer code.  It's commented out for now, but the
	goal is to try to detect hangs in AT-SPI calls.
	
2006-03-08  Willie Walker <william.walker@sun.com>

	* src/orca/brlmon.py: Better adaptation (e.g. position on screen)
	to changes in size when working with large fonts (e.g., enlarging
	the fonts for presentation purposes).	
	* src/orca/gnomespeechfactory.py, src/orca/braille.py: transform
	unicode ellipses into "...".  Fixes bug 333915.
	
2006-03-07  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py: disable the automatic updating of the apps
	list.  This was often hanging Orca and the desktop, especially
	in the instances where the gnome error window of death would 
	appear.  NOTE THAT THIS IS ONLY A TEMPORARY THING: It helps
	avoid some hangs, but it also required the disabling of the
	hierarchical presentation manager, which is rarely, if ever,
	used.
	* src/orca/gnomespeechfactory.py: unref speech engines that fail
	to initialize.  This will give them a chance to exit.  Fixes 
	bug 333792.
	* src/orca/orca.py: add more signal handling logic to attempt to
	shutdown gracefully under adverse conditions.  This helps address
	bug 333765.
		
2006-03-06  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py, src/orca/settings.py, src/orca/orca-setup.in:
	turn braille on by default; Orca will fail gracefully if it cannot
	connect to BrlTTY.
	* src/orca/focus_tracking_presenter.py, src/orca/orca.py: handle 
	COMM_FAILURE's better when looking at children of the destkop.
	* src/orca/gnomespeechfactory.py: In speech, add a space after all
	instances of "[" in a string as a means to prevent DECtalk from
	interpreting these as commands.  This is an interim fix, and I'm 
	not sure whether the real fix belongs in the dectalk driver for
	gnome-speech or in Orca.
	
2006-03-03  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/StarOffice.py
          Added a new clause to the onFocus() method.

          2) Writer: spell checking dialog.
         
          Check to see if the Spell Check dialog has just appeared and got
          focus. If it has, then it contains a "paragraph" which shows the
          context for the current spelling mistake. After speaking/brailling
          the default action for this component, that a selection of the
          surronding text from that paragraph with the misspelt word is also
          spoken.
         
        * src/orca/scripts/Evolution.py
          The number of words spoken in the surronding text for misspelt
          words was one less than it should have been.

2006-03-02  Rich Burridge <rich.burridge@sun.com>

        * src/orca/speechgenerator.py
          Adjusted the _getSpeechForTableCell() method to check to see
          if the table cell implemented the accessible text interface,
          and if so, to append that text to the list of spoken utterances
          (if that text was different than the label of the table cell).

2006-03-02  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          A tweak to clause 3) in the onFocus() method (Mail view: 
          message header list). The column header is only spoken and
          brailled when moving by row, if this is the table cell that
          currently has focus.

2006-03-02  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added an entry for the StarOffice/OpenOffice bug #62723.
          Open Dialog "read-only" checkbox has incorrect accessibility 
          information.

2006-03-02  Willie Walker <william.walker@sun.com>

	* src/orca/script.py, src/orca/focus_tracking_presenter.py:
	patch for bug 333168: scripts were not being reclaimed.  This
	is an acceptable workaround, but we should (not must) determine
	circular references and why they exist.
	* src/orca/braillegenerator.py: add ARMED state as a means for
	identifying selected items when considering which item to show
	from a set of grouped items.  This is to work around the way
	OpenOffice currently exposes selected menu items.  If/when they
	fix this to match GTK's method, this code should still continue
	to work and not cause side effects (I hope).
	* src/orca/atspi.py: do not cache the accessible state because
	I'm not sure we are getting the appropriate events to allow us
	to keep our state cache in sync.
	
2006-03-01  Willie Walker <william.walker@sun.com>

	* src/orca/default.py: fix for bug 332887 - added extra KeySyms
	to accomodate different keypad layouts on Solaris systems.
	
2006-02-28  Rich Burridge <rich.burridge@sun.com>

        * src/orca/util.py src/orca/Makefile.am
          src/orca/scripts/Evolution.py src/orca/scripts/StarOffice.py
          Created a new util.py file which will contain various utility
          functions used by Orca. Moved the isDesiredFocusedItem() routine
          there and adjusted Evolution.py and StarOffice.py accordingly.

2006-02-28  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/StarOffice.py
          Added an onFocus() method and handled the following situation:

          When the focus is on a paragraph in the Document view of the Writer,
          then just speak/braille the current line (rather than speaking a
          bogus initial "paragraph" utterance as well).

        * src/orca/braille.py
          The initial parameter of the call to displayRegionsWithFocus()
          within the displayRegions() method should have been "regions" not
          "region".

2006-02-27  Willie Walker <william.walker@sun.com>

	* src/orca/gnomespeechfactory.py: handle fallback for broken
	speech drivers a little better - gnome-speech may tell us a
	driver is available when, in fact, the engine behind it is
	not working.
	
2006-02-22  Willie Walker <william.walker@sun.com>

	* NEWS, configure.in, README: prep for 0.2.1.
	* src/orca/gnomespeechfactory.py, src/orca/speech.py, src/orca/orca.py,
	src/orca/speechserver.py: add keystroke to reset speech: Insert+s.
	Interim workaround for bug 332253.
	
2006-02-16  Willie Walker <william.walker@sun.com>

        * src/orca/brlmon.py: "improve" visibility of cell with cursor.
	* src/orca/brlmon.py: substitute macros for < and & so they are
	not interpreted by the pango interpreter.
	* src/orca/orca.py: add SIGSEGV handler to (hopefully) prevent
	core files.
	
2006-02-15  Rich Burridge <rich.burridge@sun.com>
        * bugs/bugs.html
          Added a new entry for Evolution bug #331447:
          The accessible name for Mail message header list "checkbox" table
          cells is not useful.

2006-02-15  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          A couple of tweaks to clause 3) in the onFocus() method 
          (Mail view: message header list). 
          - It no longer speaks/brailles the headers for checkboxes. A side
            effect of this is that if the current cell with focus was a 
            checkbox, then the region on the braille line that's visible 
            now becomes the actual cell itself rather than the header.
          - Added spaces between each header and cell value.

2006-02-15  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Adjusted clause 3) in the onFocus() method (Mail view: message
          header list). It now speaks/brailles (with VERBOSITY_BRIEF) the
          column headers for each table cell that is read in the current 
          row of the mail message header list. The focus in the braille
          line is given to the region containing that column header 
          information for the current cell now, rather then the actual
          table cell.

2006-02-15  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Adjusted clause 3) in the onFocus() method (Mail view: message
          header list). It now uses the new displayRegionsWithFocus()
          method to (hopefully) correctly set the correct region to set
          the focus to on the braille line.

2006-02-15  Willie Walker <william.walker@sun.com>

	* src/orca/braille.py, src/orca/Makefile.am, src/orca/settings.py,
	src/orca/brlmon.py: add beginnings of a braille monitor.  This is
	currently turned off by default, but can be enabled by setting
	useBrailleMonitor=True in ~/.orca/user-settings.py.	
	* src/orca/braille.py: refactor displayRegions to include a
	new method, displayRegionsWithFocus, which will set the cursor
	to a given region with focus.  The new displayRegions method
	merely calls this new method with the region as specified by
	the indexOfFocusRegion parameter.
	
2006-02-14  Willie Walker <william.walker@sun.com>

	* QUICKSTART: update to include Ubuntu notes on building eel,
	evolution-data-server, and evolution.  Also re-order libgail-gnome
	and at-spi building - turns out that libgail-gnome depends upon
	at-spi's spi.
	
2006-02-14  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Adjusted the 3) clause in the onFocus() method (Mail view: message 
          header list). The last column (as well as the last row) in the 
          message header list is now cached. Now, in order to speak the 
          whole message header, the row must have changed or we are on the 
          first or last message header in the list and the column number 
          hasn't changed.

2006-02-14 Mike Pedersen <michael.pedersen@sun.com>

	* src/orca/speechgenerator.py 
          Removed the auto-speaking of scrollpanes as they don't give 
          any value-add to the speech user.

2006-02-10  Rich Burridge <rich.burridge@sun.com>

        * src/orca/speechgenerator.py: _getSpeechForLabelAndRole
          src/orca/braillegenerator.py: _getDefaultBrailleRegions
          If we are being verbose, don't speak/braille the rolename
          if the role of the object is UNKNOWN (unless the obj has no
          label).

2006-02-10  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py, src/orca/settings.py:
	add "null" package to list of packages to search for scripts.
	This allows you to pick up a script from the directory where 
	you run orca so you can more easily test your scripts.
	
2006-02-10  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added a new entry for Evolution bug #330712
          Accessible Name for TimeZone Button shouldn't contain its role.

          Added a new entry for Evolution bug #330723
          Various components shouldn't include their role in their 
          accessible name.

2006-02-09  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Added a new 10) "Mail view: message area - attachments"
          clause to the onFocus() method:

          Check if the focus is on the "go forward" button or the
          "attachment button" for an attachment in the mail message
          attachment area. (There will be a pair of these buttons
          for each attachment in the mail message).
         
          If it is, then get the text which describes the current
          attachment and speak it after doing the default action
          for the button.
         
          NOTE: it is assumed that the last table cell in the table
          contains this information.

2006-02-09  Clytie Siddall <clytie@riverland.net.au>

	* configure.in	Added vi in ALL_LINGUAS line.
	
2006-02-08  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Adjusted the 3) "Mail view: message header list" clause in 
          the onFocus() method:

          - If this focus event is just for a different table cell on 
            the same row as last time, then we just speak the current 
            cell. 
          - The braille cursor to set to point to the current cell.
          - If a table check is a check box, and we've just moved the
            focus to the left or right on the same row, then it's now
            read (spoken/brailled) irrespective of whether it's checked 
            or not.

2006-02-08  Willie Walker <william.walker@sun.com>

	* src/orca/default.py: interim workaround for Orca not speaking
	Contact Source Selector panel items properly in Evolution.
	* bugs/bugs.html: update with information from OOo.
	* bugs/bug_330454.py, bugs/bugs.html: update with new FOCUSED
	state oddess for Evolution.
	* src/orca/settings.py: internationalize regular expressions for
	script mappings.
	* src/orca/braillegenerator.py, src/orca/speechgenerator.py, 
	src/orca/scripts/StarOffice.py: start treating PARAGRAPH objects
	like TEXT objects.  Also rip out the earlier StarOffice script
	logic now that the new UNO<->ATK bridge implementation is looking
	better.
	* src/orca/gnomespeechfactory.py: remove traceback when a chname
	cannot be found - it's really not a bad thing.
	
2006-02-07  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Added in another couple of scenerios to the onFocus() method.

          - Mail compose window: message area
         
            This works in conjunction with code in the next section. 
            Check to see if focus is currently in the Mail compose window 
            message area. If it is, then, if this is the first time, save 
            a pointer to the HTML panel that will contain a variety of 
            components that will, in turn, contain the message text.

          - Spell Checking Dialog
         
            This works in conjunction with code in the previous section. 
            Check to see if current focus is in the table of possible 
            replacement words in the spell checking dialog. If it is, 
            then we use a cached handle to the Mail compose window message 
            area, to find out where the text caret currently is, and use 
            this to speak a selection of the surrounding text, to give 
            the user context for the current misspelt word.

2006-02-06  Rich Burridge <rich.burridge@sun.com>

        * src/orca/atspi.py
          Adjusted the __get_child_count() and __get_index() methods
          to no longer cache their values, as they could potentially change.

2006-02-06  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Adjusted the entry for "bug #329269" to show that it's not a bug
          and to give the required keynav sequence (Alt+Down Arrow).

2006-02-02  Willie Walker <william.walker@sun.com>

	* test/harness/runall.sh, test/harness/runone.sh: do not
	override user's user-settings.py when running tests.  Also
	sort the keystrokes files alphabetically before running.
	Finally attempt to politely tell Orca and other test utils
	(event_listener) to quit before running another test.
	* src/orca/orca.py: add current working directory to the
	beginning of sys.path - this is primarily for picking up
	a user-settings.py from the local directory for the purposes
	of running tests
	* src/orca/debug.py: remove gtk dependency
	* src/orca/settings.py: add script mapping for soffice.bin
	* src/orca/atspi.py: use EventDetails.host_application if
	it is available (this was added for AT-SPI 1.7.0)
	
2006-02-01  Willie Walker <william.walker@sun.com>

	* test/harness/*: add some initial attempt at a test harness.
	runall.sh runs them all, runone.sh runs one.  There's still 
	issues with a different set of events coming from running the
	same test on the same system - it's most likely due to 
	differences in timing when handling keystrokes.
	* test/keystrokes/*: arrange keystroke files in directories,
	with one directory per application.
	
2006-02-01  Rich Burridge <rich.burridge@sun.com>

        * src/orca/speechgenerator.py: _getSpeechForComboBox
          src/orca/braillegenerator.py: _getBrailleRegionsForComboBox
          If the label of the combo box is the same as the utterance for
          the child object, then this utterance is only spoken/brailled once.

2006-02-01  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Adjusted the default for Evolution, to read all table cells 
          (such as in the mail message header summary list).

          Put a gettext wrapper around the "No appointments" string in the
          onFocus() method (case 5).

        * Added a case 7) to the onFocus() method:

        * This is for Mail view: insert attachment dialog: unlabelled arrow
          button. Check if the focus is on the unlabelled arrow button near 
          the top of the mail view Insert Attachment dialog. If it is, then
          rather than just speak/braille "button", output something a
          little more useful.

2006-01-31  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Adjusted section 3) in the onFocus() method (reading mail message
          header summary items). It now checks if the current table cell 
          is a check box. If it is, then to reduce verbosity, it only speaks
          and brailles it, if it's checked.

2006-01-30  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added entries for Evolution bugs 329269 and 329270.

2006-01-27  Willie Walker <william.walker@sun.com>

	* src/orca/bugs/bugs.html: Add gail infinite recursion bug 329230.
	* ChangeLog: fix 2006/2005 typos.  :-)
	
2006-01-27  Willie Walker <william.walker@sun.com>

	* src/orca/atspi.py: prevent infinite loop if obj.parent == parent.
	(This case is an AT-SPI bug, but we need to watch for it).
	* bugs/bugs.html: update to reflect bug entry information provided
	to us by external development teams.
	* src/orca/atspi.py: more work resulting from incompatible
	event data structure change in AT-SPI 1.7.0.
	* src/orca/atspi.py, src/orca/focus_tracking_presenter.py: 
	change some ominous looking Traceback messages to what they
	really are: just information regarding normal behavior.
	
2006-01-26  Willie Walker <william.walker@sun.com>

	* QUICKSTART: update Ubuntu notes for how to get older/supported
	releases of AT-SPI infrastructure.
	
2006-01-26  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Changed bug #324002 to now be an entry for bug #318973.
          Updated the notes section for that bug.

        * bugs/bugs.html
          Summary for bug #326725 has changed.

2006-01-25  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html bugs/bug_326725.py
          Changed bug #328493 to now be an entry for bug #326725.
          Updated the notes section for that bug.

          Added in bug_326725.py to help track down this problem.

2006-01-25  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Updated the notes section for bug #328493

2006-01-24  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added a new bug #328493
          Broken component hierarchy in compose window message area.

2006-01-24  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py: be a bit more vocal
	when importing a script with syntax errors
	* src/orca/atspi.py: handle both AT-SPI 1.7.0+ and pre-1.7.0
	event "any_data" handling.
	
2006-01-23  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Updated entry for bug #326649. Fix is in CVS HEAD.

2006-01-18  Willie Walker <william.walker@sun.com>

	* src/orca/default.py, src/orca/speechgenerator.py: fix for
	bug 327568 - treat check menu items similar to check boxes.
	* bugs/bug_322903.py, bugs/bug_322903.html, bugs/bugs.html,
	src/orca/scripts/Mozilla.py: test case for showing how text can
	get jumbled as user types in a text area.  The ultimate cause
	of this is that getTextAtOffset seems to position the caret at
	the starting offset that is passed into the call to getTextAtOffset.
	
2006-01-17  Willie Walker <william.walker@sun.com>

	* src/orca/scripts/gaim.py: alternative logic to address bug 325917.
	I think the ultimate culprit may be the toolkit, but I think this 
	workaround should hopefully work in the presence and/or absence of
	the possible toolkit bug.
	* src/orca/orca.py, src/orca/default.py, src/orca/input_event.py:
	keep track of mouse button events as another means for watching
	caret moved events.
	* src/tools/bug_template.py: adjust for bad indentation caused by
	emacs somehow messing up the indentation parameters.
	* src/orca/settings.py: add another alias for Firefox ("Deer
	Park") to manage unreleased versions of Firefox.
	
2006-01-13  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Adjusted the onFocus() method to handle the following for the
          mail message header list:

          If the current locus of focus is not a table cell, then we
          are entering the mail message header list (rather than moving
          around inside it), so speak the number of mail messages total.

2006-01-13  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py, src/orca/debug.py: Add Insert+Ctrl+F5 as
	a means to cycle the debug level.  I originally started making
	this a dialog box, but realized that interacting with it can 
	cause a flurry of AT-SPI events.  So...I dumbed this down to 
	a simple cycle (press Insert+Ctrl+F5 repeatedly to cycle through
	the possible debug level values).
	
2006-01-12  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Tightened up the code in case "3)" in the onFocus() method.
          It was possible that some of the table cells in the current
          row in the mail message header table were None. This is now 
          specifically tested for, and if found, that table cell is skipped.

2006-01-11  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added in Evolution bug #326649.

2006-01-11  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Added in code to the the onFocus() method to handle:
            Preferences Dialog: options list.

        If the focus is in one of the various options on the left side of 
        the Preferences dialog. then we just want to speak the name of the 
        page we are currently on.
        
        Even though it looks like the focus is on one of the page tabs
        in this dialog, it's possible that it's actually on a table cell,
        within a table which is contained within a scroll pane. We check
        for this my looking for a component hierarchy of "table cell",
        "table", "unknown" and "scroll pane".
        
        If this is the case, then we get the parent of the scroll pane
        and look to see if one of its other children is a "page tab list".
        If that's true, then we get the Nth child, when N is the index of
        the initial table cell minus 1. We double check that this is a
        "page tab", then if so, speak and braille that component.
        
        NOTE: assumes there is only one "page tab list" in the "filler"
        component.

        This change improves the situation dramatically, but sometime we 
        are still getting this component spoken twice.

2006-01-06  Willie Walker <william.walker@sun.com>

	* src/orca/scripts/Makefile.am: take care in installing on
	64-bit platforms
	
	* src/orca/gnomespeechfactory.py, src/orca/orca-setup.in:
	fix problem where speech will hang when using gnome speech
	and orca-setup.  The main cause was the introduction of
	callbacks, which will not work properly when bonobo main
	is not being used (which is the case with orca-setup).
	
2006-01-04  Willie Walker <william.walker@sun.com>

	* src/orca/flat_review.py: implement a mechanism to better handle
	the flat review of parents that manage a large number of descendants.
	This makes synaptic, for example, work a bit better with flat review.
	
2006-01-04  Willie Walker <william.walker@sun.com>

        * bugs/bugs.html, bugs/bug_325809.py: add bug for table column
	headers not being taken into account for getAccessibleAtPoint
	
2005-12-21  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added in Evolution bug #324726.

2005-12-20  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Added in code to the the onFocus() method to handle:
            Calendar view: day view: moving with arrow keys.
         
          If the focus is in the Calendar Day View, check to see if there
          are any appointments starting at the current time. If there are,
          then provide the user with useful feedback for that appointment,
          otherwise output the current time and state that there are no
          appointments.

2005-12-20  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added in a workaround for Evolution bug #324193.

2005-12-19  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Removed the "placeholder" code in the onFocus() method for the 
          following three scenerios:
            * Calendar view: day view: tabbing to day with no appts.
            * Calendar view: day view: moving with arrow keys.
            * Calendar view: month calendar
          The default utterances would appear to be sufficient.

          Added in some calls to debug.println for the remaining four 
          cases handled by the onFocus() method.

2005-12-16  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Added in code to the onFocus() method to better handle calendar 
          day view: tabbing to day with appts.

          If the focus is in the Calendar Day View on an appointment, then
          provide the user with userful feedback. First we get the current
          date and appointment summary from the parent. This is then followed
          by getting the information on the current appointment.

          The start time for the appointment is determined by detecting the
          equivalent child in the parent Calendar View's table has the same
          y position on the screen.

          The end time for the appointment is determined by using the height
          of the current appointment component divided by the height of a
          single child in the parent Calendar View's table

          Both of these time values depend upon the value of a time increment
          which is determined by the number of children in the parent Calendar
          View's table.

2005-12-16  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Fixed up the getTimeForCalRow() method to correctly handle all
          the possibly calendar day view appointment time increments that 
          are possible.

2005-12-15  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Added in a new  method:
          - getTimeForCalRow() which returns a string equivalent to the 
            time of the given row in the calendar day view. Each calendar 
            row is equivalent to 30 minutes, with time (row 0) starting 
            at 12 am (midnight).

          More work on calendar appointment day view. If you now Tab into
          the day view and there are appointments for that day, then it's
          possible to determine the start time of each appointment using
          getTimeForCalRow().

2005-12-15  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added an entry for Evolution bug #324193. Bug #324104 is not
          a bug.

2005-12-15  Willie Walker <william.walker@sun.com>

	* src/orca/default.py: partial workaround for link selection
	bug in Firefox.  Only works if the caret offset is accurate,
	which it isn't (see the related Firefox bug at
	https://bugzilla.mozilla.org/show_bug.cgi?id=320395).
	* bugs/bugs.html, bugs/bug_{320383,320387,320388,320390,
	320393,320395}: Firefox bugs.
	
2005-12-14  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added entries for Evolution bugs #324002, #324005 and #324104.

2005-12-14  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Added in the definitions for two new custom roles:
          - CALENDAR_VIEW
          - CALENDAR_EVENT
          These get added to the rolenames list in the rolenames module.

          Added in code to the onFocus() method to detect the following
          cases:
          - Calendar view: day view: tabbing to day with no appts.
          - Calendar view: day view: tabbing to day with appts.
          - Calendar view: day view: moving with arrow keys.
          - Calendar view: month calendar

          Code for these cases needs to be completed. At the moment it 
          just prints out debug messages.

2005-12-14  Willie Walker <william.walker@sun.com>

	* src/orca/atspi.py: use object.role instead of rolenames.getRoleName
	for debug output.  It was too confusing the other way.
	* src/orca/default.py: start taking hypertext into account when
	speaking characters and words.
	* src/orca/settings.py: try to make hyperlink voice stand out for now
	* src/orca/scripts/Mozilla.py: lots of evaluation of accessible 
	hyperlink support.  Many test cases to write and bugs to file against 
	Firefox :-(.
	
2005-12-14  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py: with the exception of
	ImportErrors, print the stack trace for all errors encountered
	when importing a script at the SEVERE level.  This helps 
	to better identify syntax errors and bugs in custom scripts.
	* src/orca/scripts/Mozilla.py, src/orca/scripts/Makefile.am: 
	initial pass at getting us going with evaluating Firefox's
	AT-SPI implementation.  This does NOT provide any compelling
	access to Firefox at this point.
	* src/orca/default.py: permit presentation of caret moved
	events even on objects that are not the locus of focus.
	* src/orca/orca.py, src/orca/atspi.py: Rich's idea below 
	looked so good that I added two new debug features: one to
	print an indented ancestry of an object and one to print
	the descendants of an object.  I bound these to a debug
	keystroke in Orca: Insert+F7 prints the ancestry for the
	locusOfFocus and Ctrl+Insert+F7 prints the application
	hierarchy for the locus of focus, flagging the locus of
	focus with the string "(*)".
	
2005-12-13  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Added it two new methods:
          - walkComponentHierarchy() - a debug routine to print out 
            the hierarchy of components for the given object.
          - isDesiredFocusedItem() - called to determine if the given 
            object and it's hierarchy of parent objects, each have the 
            desired roles.

          Adjusted the code in the onFocus() method to use the
          isDesiredFocusedItem() method.

2005-12-10  Willie Walker <william.walker@sun.com>

	* bugs/bugs.html: create simple (let's try to keep it simple) 
	table to help us keep track of bugs in our external dependencies
	
2005-12-09  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py

          Adjusted the handling of the message header list code in the 
          onFocus() method to only braille the role of the table cell 
          that currently has focus. This is achieved by adjusting the
          verbosity level of brailleRolenameStyle to VERBOSITY_LEVEL_BRIEF
          for the other table cells, restoring it to its original value
          at the end.

2005-12-09  Willie Walker <william.walker@sun.com>

	* bugs/bug_323633.py: standalone test case that demonstrates
	the issue where metacity sends accessible label information
	one window behind when using Alt+TAB to cycle between windows.
	Logged as bugzilla bug #323633.
	
2005-12-08  Rich Burridge <rich.burridge@sun.com>

        * src/orca/braille.py
          Added a new function displayRegions() that displays a list of 
          regions on a single line, setting focus to the specified region.

        * src/orca/keynames.py
          Added a mapping of "SunF36" to "F 11"

        * src/orca/scripts/Evolution.py
          Adjusted the onFocus() method to use braille.displayRegions() to
          generate a braille display of multiple regions when displaying a
          message header or one of the four standard mail message pane
          header lines (assuming the user wants to speak the complete row).

2005-12-08  Rich Burridge <rich.burridge@sun.com>
        * src/orca/{default.py, settings.py}
          Slight tweak to the last change. The initial state for whether
          to read just the current table cell or the whole row, is
          determined by a variable in settings.py that the user can override.

2005-12-08  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py
          Added the ability to toggle whether we should speak/braille just
          the current table cell or the whole row. This is currently
          toggled with Insert+F11

2005-12-07  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Adjusted the code in the onFocus() method to update the braille
          display as well as providing speech output.

2005-12-07  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Added code to the onFocus() method to handle the following case:
            When the focus is in the From:, To:, Subject: or Date: headers
            of a message in the message area, then we should read the whole
            row.
         See the comments in the Evolution.py script for further details.

2005-12-05  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Added code to the onFocus() method to handle the following case:
            When the focus is in the pane containing the lines of an
            actual mail message, then, for each of those lines, we
            don't want to speak "text", the role of the component that
            currently has focus.
         See the comments in the Evolution.py script for further details.

2005-12-05  Rich Burridge <rich.burridge@sun.com>

        * src/orca/speechgenerator.py
          Adjusted the getSpeechContext() method to ignore speaking about
          objects the have an unknown role. This was an annoyance in the 
          message pane window in Evolution.

2005-12-02  Willie Walker <william.walker@sun.com>

	* src/docs/doc-set/*: update architecture and script guides.
	* src/docs/pydoc/Makefile.am: update to include latest sources.
	* src/orca/orca.py: fix circular import for presentation managers
	to allow pydoc to work better.
	* src/orca/braille.py, src/orca/atspi.py: pydoc improvements.
	* src/orca/kbd.y: remove obsolete file
	* src/orca/mag.py: I believe I finally have the import worked
	out on this correctly, and the primary cause (I think) was
	due to gnome-mag not building/installing the ORBit modules.
	I also submitted a bug/patch against gnome-mag:
	http://bugzilla.gnome.org/show_bug.cgi?id=323032.
	
2005-12-01  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Slight adjustment to look for the message header list by role
          rather than name, to avoid localisation problems.

2005-12-01  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Better handling of reading the details of the current message
          header that has focus. See comments in the Evolution.py script 
          for further details.

2005-11-30  Willie Walker <william.walker@sun.com>

	* src/orca/atspi.py: Fix for bug 319673: Accessible.__init__ now
	checks to make sure it is not passed a Python Accessible. If it is,
	it issues a warning and just returns the Python Accessible.
	
2005-11-30  Willie Walker <william.walker@sun.com>

	* src/orca/Makefile.am: install orca convenience shell into 
	${bindir) instead of $(prefix)/bin
	* src/orca/speech.py: remove import of pdb

2005-11-30  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Added in the debug message from Will for the onFocus method.

2005-11-29  Willie Walker <william.walker@sun.com>

	* Release 0.2.0
	
2005-11-22  Willie Walker <william.walker@sun.com>

	* src/tools/bug_template.py: add "direct to AT-SPI via IDL only"
	standalone module to help provide a template for filing bugs.  One
	may start with this file to create reproducable test cases for 
	registering bugs against AT-SPI implementations.
	* src/orca/focus_tracking_presenter.py: resolve problem with event
	sources being GC'd while waiting on the idle thread.
	
2005-11-21  Willie Walker <william.walker@sun.com>

	* Nearly everything: replace core module and a11y.py with atspi.py.
	
2005-11-17  Rich Burridge <rich.burridge@sun.com>

        * src/orca/a11y.py
          Better debugging support in _get_app().

2005-11-16  Willie Walker <william.walker@sun.com>

	* src/orca/{default.py, input_event.py, keybindings.py, orca.py,
	script.py, speech.py}: refactor ability to handle custom keybinding
	maps from user-settings.py.
	
2005-11-16  Willie Walker <william.walker@sun.com>
	
	* src/orca/{default.py, gnomespeechfactory.py, orca-setup.in,
	orca.py, settings.py, speech.py}, src/orca/scripts/Gecko.py:
	migrate voice defaults to setting.py.
	NOTE: THIS REQUIRES YOU TO RERUN ORCA-SETUP.
	
	* src/orca/*.py: use string constants to get settings (I got
	bit by a mispelling when using raw strings).
	* configure.in, Makefile.am, docs/pydoc/Makefile.am: only build 
	pydoc if the "--enable-pydoc" option is used, and force this
	for distcheck.
	* po/POTFILES.in: make sure distcheck works
	
2005-11-15  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Makefile.am src/orca/scripts/Evolution.py
          src/orca/settings.py
          Adding in a "stub" Evolution script that currently does nothing
          except interpose on the onFocus() method and always pass the 
          event onto the parent class. This script will be extended as needed.

2005-11-15  Willie Walker <william.walker@sun.com>

	* src/orca/{a11y.py,braillegenerator.py,flat_review.py,
	focus_tracking_presenter.py,hierarchical_presenter.py,
	kbd.py,orca.py,speech.py,speechgenerator.py}: use "for i in range"
	idiom instead of the awkward "while" loops.
	
	* src/orca/{braille.py,debug.py,default.py,
	focus_tracking_presenter.py,hierarchical_presenter.py,kbd.py,
	mag.py,orca.py,settings.py}: remove unnecessary globals.

	* src/orca/*.py, src/orca/scripts/*.py: gross pychecker
	sweep to eliminate a number of potential bugs and ugliness.
	
	* src/orca/{Makefile.am,acss.py,dectalk.py,default.py,
	espeechfactory.py,gnomespeechfactory.py,orca-setup.in,
	orca.py,outloud.py,settings.py,speech.py,speechserver.py},
	src/orca/scripts/{Gecko.py,metacity.py}: new speech structure
	done in collaboration with T.V. Raman of Google who donated
	code under the LGPL license.  NOTE: THIS REQUIRES YOU TO
	RERUN ORCA-SETUP.

2005-11-14  Rich Burridge <rich.burridge@sun.com>

        * src/orca/Makefile.am src/orca/keynames.py
          src/orca/orca.py
          Before key event are spoken in the _keyEcho() routine, they are 
          checked against a key event dictionary to see if there are 
          localized  words to be spoken instead.

2005-11-11  Willie Walker <william.walker@sun.com>

	* src/orca/default.py, src/orca/focus_tracking_presenter.py,
	src/orca/scripts/*.py, docs/doc-set/script_guide.sgml: eliminate
	need for script factory paradigm.  
	
2005-11-09  Willie Walker <william.walker@sun.com>

	* src/orca/Makefile.am, src/orca/a11y.py, src/orca/default.py,
	src/orca/focus_tracking_presenter.py, src/orca/orca-setup.in,
	src/orca/orca.py, src/orca/settings.py, src/orca/speech.py,
	src/orca/scripts/Gecko.py, src/orca/scripts/gaim.py,
	src/orca/scripts/gcalctool.py, src/orca/scripts/metacity.py: First
	pass at new speech system based on conversations with T.V. Raman.
	NOTE: THIS REQUIRES YOU TO RERUN ORCA-SETUP.  If you don't orca
	will fail on startup.

2005-11-09  Mike Pedersen <michael.pedersen@sun.com>

	* Added test directories
	
2005-11-07  Rich Burridge <rich.burridge@sun.com>

        * configure.in, docs/pydoc,
          docs/Makefile.am, docs/pydoc/Makefile.am
          Added in a new .../docs/pydoc directory where pydoc HTML
          documentation is generated for all the Orca Python files.

2005-11-05  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py: really delete scripts when
	an application exits.  Fix for bug 319776.
	
2005-11-04  Willie Walker <william.walker@sun.com>

	* src/orca/{a11y,default,focus_tracking_presenter,orca,script}.py:
	bubble COMM_FAILURES up to a higher level to allow for better
	tracking and debugging of these events.
	
2005-11-03  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py
          (Per suggestion from Will) Moved the braille.addLine() call
          in the updateBraille() method, to prevent a "list index out of
          range" exception.

2005-11-03  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/StarOffice.py:
          Added a onCaretMoved() method which simply calls the
          same method in its parent class. Now movement from one line in
          a text document to the next, just results in the new line
          being spoken once (compared with both the last line and the
          new line being spoken upto two times each). Need to investigate
          further why this happens.

        * src/orca/braillegenerator.py
          Added a check in getBrailleRegions(). Sometimes, for some 
          unknown reason, the child is None. We now test for this, 
          rather than cause a traceback.

        * src/orca/a11y.py:
          Fix from Will. Adjustments to the makeAccessible() method to
          better handle invalid objects in the local cache. This routine 
          no longer throws an InvalidObjectError exception.

2005-11-03  Willie Walker <william.walker@sun.com>

	* src/orca/a11y.py, src/orca/orca.py, src/orca/debug.py,
	src/orca/focus_tracking_presenter.py: toString work on 
	an accessible (note there is still plenty of opportunity
	for object-oriented programming in a11y.py).
	
2005-11-02  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/StarOffice.py: added a call to:

          self.keybindings = keybindings.KeyBindings()

          in the __init__ method, to prevent Orca going into flat 
          review mode when you typed in something like "t".

2005-11-02  Rich Burridge <rich.burridge@sun.com>

        * src/orca/focus_tracking_presenter.py: added a debug message
          to one of the except: clauses in processObjectEvent().

        * src/orca/a11.y: adjusted some of the debug messages in the 
          __get_app routine to check whether obj.name and 
          obj.parent.name are None, in which case "None" is printed;
          otherwise "'<name>'".

2005-10-31  Rich Burridge <rich.burridge@sun.com>

	* Initial version of StarOffice.py script. Support for
          "object:state-changed:armed" events.

2005-10-31  Willie Walker <william.walker@sun.com>

	* src/orca/debug.py: add ability to send debug output to a
	file (via debug.setDebugFile).  This should allow us to pass
	in a non-buffered file from user-settings.py, hopefully 
	allowing us to better track where orca is hanging.
	* src/orca/*.py, src/orca/scripts/*.py: make the voicename
        for speaking be an optional parameter with a default value
        of "default".
	* src/orca/a11y.py, src/orca/focus_tracking_presenter.py,
	src/orca/settings.py: fix for bug 32063 - provide a more
	flexible, general-purpose, and user-settable script discovery
	mechanism.
	
2005-10-30  Willie Walker <william.walker@sun.com>

	* QUICKSTART: add libgail-gnome to Ubuntu section as well as
	more apt-get stuff needed to build libgail-gnome.
	* src/orca/orca.py: fail a bit more gracefully if braille,
	speech, or mag are not available at run time.
	
2005-10-28  Rich Burridge <rich.burridge@sun.com>

        * src/orca/focus_tracking_presenter.py
          Added in a "debug.printException(debug.LEVEL_FINEST)" in
          _createScript() in the exception cluse when trying to load
          custom scripts (very useful during debugging).

2005-10-28  Rich Burridge <rich.burridge@sun.com>

	* src/orca/flat_review.py: adjusted three debug statements to
          pass two parameters, not three.

2005-10-28  Willie Walker <william.walker@sun.com>

	* src/orca/orca.in, src/orca/orca.py: move all logic out of
	orca.in and move it into a new orca.py:main to help with 
	debugging.
	* src/orca/*.py: do not silently pass on any exceptions - at
	least print an exception at debug.LEVEL_FINEST.  Also attempt
	to provide some debug output inside while loops that could
	potentially never exit.
	
2005-10-27  Willie Walker <william.walker@sun.com>

	* src/orca/Makefile.am: take care in packaging on 64-bit
	platforms
	* src/orca/kbd.py: fix problem with not registering enough
	handlers to cover all possible modifier mask combinations;
	refactor a little bit to help enable testing with XEVIE.
	
2005-10-26  Rich Burridge <rich.burridge@sun.com>

	* src/orca/braillegenerator.py, src/orca/speechgenerator.py,
	various calls to _getBrailleTextForAvailability and
        _getSpeechForAvailability for radio, check and ordinary menuitems.

2005-10-25  Willie Walker <william.walker@sun.com>

	* TODO: Moved all TODOs to bugzilla.gnome.org as bugs and RFEs
	for the Orca component.  Also went through all the source code
	and logged all TODOs in there as bugs and RFEs, placing references
	to the bugzilla bug numbers in the source code.
	
2005-10-22  Willie Walker <william.walker@sun.com>

	* QUICKSTART: create and update.
	* src/brl/brlmodule.c: throw exceptions instead of printing
	  errors when attempting to initialize/connect to BrlTTY.
	* src/orca/braille.py: set default braille display size to 32
	  (this is for testing purposes and the default matches the
	  actual display size of our primary tester)
	* src/orca/orca-setup.in: only enable accessibility if it has
	  not already been enabled, thus avoiding a confusing message
	
2005-10-20  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py: add ability to provide
	a mapping between application name and script module name
        * src/orca/scripts/*: refactor scripts into their own package
	
2005-10-19  Willie Walker <william.walker@sun.com>

	* src/orca/script.py, src/orca/input_event.py,
	docs/doc-set/script_guide.sgml: begin working on script 
	writing guide.
	
2005-10-12  Willie Walker <william.walker@sun.com>

	* src/orca/speech.py: do not lose last text sent when performing
	a reset after detecting a speech driver failure.
	
2005-10-11  Pawan Chitrakar  <pchitrakar@gmail.com>

	* configure.in: Added ne in ALL_LINGUAS

2005-10-07  Willie Walker <william.walker@sun.com>

	* src/orca/flat_review.py: eliminate a major source of hangs
	for flat review: getTextAtOffset is typically implemented 
	incorrectly across (and possibly within) toolkits.
        * src/orca/gaim.py: improved braille and speech experience (at
	least for AIM)

2005-10-06  Willie Walker <william.walker@sun.com>
        
        * src/orca/flat_review.py: handle text objects that have
        children by ignoring the children
        * src/orca/gaim.py: hacking to get chat working again
        (at least for AIM)

2005-10-05  Willie Walker <william.walker@sun.com>
        
        * src/orca/default.py: add support for no focus.

2005-09-27  Willie Walker <william.walker@sun.com>

	* src/orca/braille.py, src/orca/default.py, src/orca/flat_review.py,
	src/orca/braillegenerator.py: more work on keeping the spatial 
	layout of braille relatively consistent.
	
2005-09-16  Willie Walker <william.walker@sun.com>

	* src/orca/braille.py, src/orca/default.py, src/orca/flat_review.py:
	hopefully a little better at flat review navigation using the 
	buttons on the braille display
        * src/orca/braille.py: provide additional methods to find our way
	around and also provide more control over panning around.
	* src/orca/flat_review.py: provide ability to explicitly set the
	character of interest as well as ability to pass a character offset
	to a zone and find the word associated with it.
	
2005-09-15  Willie Walker <william.walker@sun.com>

	* src/orca/speechgenerator.py, src/orca/braillegenerator.py: used
	rolenames constants instead of hard coded strings.
	* src/orca/default.py: use "above" and "below" semantics instead
	of "previous line" and "next line" for BrlTTY LNUP and LNDN.
	* src/orca/flat_review.py: in flat review mode, automatically pan
	to begin/end of previous/next lines when panning in braille.
	
2005-09-13  Willie Walker <william.walker@sun.com>

	* src/orca/default.py: don't speak flat review info if the user
	navigated via input from the braille display.
	* src/orca/braille.py: strip trailing "\n" from lines for flat
	review mode.
	* src/orca/flat_review.py: do not add zero-sized zones to flat 
	review context.
	
2005-09-12  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py, src/orca/default.py, src/orca/flat_review.py: 
	more work on flat review - rudimentary braille input and output
	working.
	
2005-09-01  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py, src/orca/default.py, src/orca/flat_review.py: 
	fair amount of work to get rudimentary flat review mode working
	(with speech only at this point).
	
2005-08-29  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py: Add cancel button to record keystrokes dialog.
	* src/orca/orca-setup.in: fix typo in orcadir name (it was gorcadir).
	* src/tools/sanity_checker.py: tool to do a rough sanity check on
	keystroke files recorded by Orca or record_keystrokes.py
	
2005-08-26  Willie Walker <william.walker@sun.com>

	* src/orca/braille.py, src/orca/default.py: better scrolling
	of braille display when the caret moves (e.g., by pressing a
	touch cursor or doing some keyboard navigation action).
	* src/orca/default.py: implement simple line clustering 
	algorithm inspired by a number of seminal OCR publications.
	* src/orca/braille.py: implement suggestion from Dave Mielke
	to handle spurious keyboard repeats from various display
	drivers (e.g., the Alva).
	
2005-08-25  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py, src/orca/a11y.py, src/orca/default.py: begin
	implementing spatial analysis techniques.	
	* src/orca/a11y.py: clear the cache properly when the parent
	changes.
	
2005-08-24  Willie Walker <william.walker@sun.com>

        * Many files: add keybindings support to workaround the fact that
	AT-SPI doesn't give us keysyms.  As a result, keypad keys look
	like other keys on the keyboard (e.g., the left arrow on the
	keypad looks similar to the left arrow on the keyboard).  The only
	way to distinguish these things right now is by keycode.
	But...different systems emit different keycodes, so we need to
	resolve keycodes at runtime.  Also took this opportunity to fix
	the problem where key releases of Orca keys were always being
	passed on to applications rather than being consumed.  Note that
	all these changes introduce a new dependency on glib and also
	require the DISPLAY environment variable to be set.

2005-08-23  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py, src/orca/focus_tracking_presenter.py: add
	ability to record keystrokes to a file - press the "Pause" key
	to start/stop recording.
	* src/orca/braille.py, src/orca/speech.py: change LEVEL_INFO
	output to be more test friendly.
	
2005-08-16  Mike Pedersen <michael.pedersen@sun.com>

	* src/orca/rolenames.py: reduced verbosity for page tabs and page
	tab lists

2005-08-16  Willie Walker <william.walker@sun.com>

	* src/orca/braillegenerator.py: reduce verbosity for page tabs.
	* src/orca/a11y.py, src/orca/speechgenerator.py,
	src/orca/braillegenerator.py: include accessible image description
	for icons if it exists.
	* src/orca/eventsynthesizer.py, src/orca/Makefile.am: create to
	allow mouse and keyboard events to be synthesized by Orca
	* src/orca/braille.py: use eventsynthesizer to generate mb1 clicks
	for those objects that don't have actions (e.g., page tabs).	
	* src/orca/a11y.py: do not cache extents because they can get out
	of date if the object is moved and we currently do not have a way
	to determine if this has happened.
	
2005-08-16  Willie Walker <william.walker@sun.com>

	* src/orca/braille.py, src/orca/braillegenerator.py: show 
	text lines with their labels.
	* src/orca/rolenames.py: minor consistency tweaking on rolenames.
	
2005-08-11  Willie Walker <william.walker@sun.com>

	* src/orca/default.py: hack to better support the very poor
	application behavior exhibited by Evolution's account setup
	wizard: it will end up in situations where the active dialog
	doesn't have any components with focus.
	* src/orca/orca.py, src/orca/default.py, src/orca/a11y.py,
	src/orca/speechgenerator.py: first pass at automatically speaking
	panels when they are realized on the screen.
	
2005-08-10  Willie Walker <william.walker@sun.com>

	* src/orca/braillegenerator.py, src/orca/speechgenerator.py:
	remove extraneous "region" field from constructor.
	* src/orca/default.py: add factory methods to get braille and
	speech generator objects so as to allow subclasses to more
	easily override the generators.	
	* src/orca/focus_tracking_presenter.py: ignore the
	"object:state-changed:iconified" event for now to help avoid
	tickling a nasty bug with gedit.  Tickling gedit when it is
	starting can cause gedit to issue the following message:
	(gedit:31434): GLib-GObject-WARNING **: invalid cast from
	`SpiAccessible' to `BonoboControlAccessible'.  It seems as though
	whenever this message is issued, gedit will hang when you try to
	exit it.	
	* src/orca/gedit.py, src/orca/Makefile.am: new script to override
	the _getSpeechForFrame method so as to avoid tickling the same bug
	described above.
	* src/orca/a11y.py: add ability to turn local caching of object
	values on or off via the a11y.CACHE_VALUES field.  The default
	value is True, which means to do caching.	
	* src/orca/a11y.py, src/orca/orca.py: start keeping better
	tracking of CORBA COMM FAILURES; throw a11y.InvalidObjectError
	exceptions and set the "valid" field of the Accessible to False
	when these errors are detected.
	
2005-08-08  Maxim Dziumanenko <mvd@mylinux.ua>

        * configure.in: Added "uk" to ALL_LINGUAS.

2005-08-04  Willie Walker <william.walker@sun.com>

	* src/orca/braillegenerator.py: work on verbosity
	* src/orca/speechgenerator.py, src/orca/speech.py,
	src/orca/default.py: work on verbosity.  Move speechgenerator to 
	a list of utterances rather than a single string containing
	multiple sentences; this avoids spurious punctuation being sent
	to the synthesis engine.

2005-08-02  Willie Walker <william.walker@sun.com>

	* src/orca/a11y.py: uncache label on name or description change
	* src/orca/a11y.py, src/orca/speechgenerator.py,
	src/orca/braillegenerator.py: add ability to speak tree node level
	* src/orca/braille.py: add return to home functionality for when
	the user presses CMD_HOME.
	* src/orca/default.py, src/orca/speechgenerator.py,
	src/orca/braillegenerator.py: do some work on speech and braille
	for tables.

2005-08-01  Willie Walker <william.walker@sun.com>

	* src/orca/speechgenerator.py: try not to speak fillers.
	* src/orca/default.py: handle issue where parents that manage 
	descendants will potentially give a unique accessible instance
	for the same child each time getChildAtIndex is called.
	* src/orca/default.py: use selection changed events on specific
	roles to update the locus of focus.
	* src/orca/speechgenerator.py: remove the speaking of unavailable
	if the object is an icon.  
	* src/orca/speechgenerator.py._getSpeechForAlert: when presenting
	a dialog, do not grab "free" labels that are children of a push
	button.
	* src/orca/a11y.py.__get_label: obtain the names of push buttons
	a little better; push buttons can have labels as children and
	can also be labelled by something.
	* src/orca/default.py.onNameChanged: ignore name changes
	on dialogs that have focus for now; the motivator for this is that
	gnome-terminal appears to issue name change events on the
	"Edit" -> "Current Profile..."  dialog even though the name didn't
	change.
	
2005-07-30  Willie Walker <william.walker@sun.com>

	* src/orca/speech.py: add recovery from failure to register speech
	callback with FreeTTS driver on Fedora (it works fine on
	JDS/Suse).  Not quite sure what is going on here, but something
	deep in the bowels of CORBA is croaking.
	
2005-07-29  Willie Walker <william.walker@sun.com>

	* src/orca/default.py: better handling of menu and focus events
	for setting the locusOfFocus.
	
	* src/orca/speech.py, src/orca/orca.py: add speech rate
	increase/decrease functionality (still needs work to make
	sure it doesn't go out of parameter bounds).
	* src/orca/braillegenerator.py: style guide work for menus.
	
2005-07-26  Willie Walker <william.walker@sun.com>

	* a11y.py, braille.py, debug.py, default.py,
	focus_tracking_presenter.py, hierarchical_presenter.py, metacity.py,
	orca.py, script.py, speechgenerator.py: begin developing the
	notion of locus of focus and visual appearance change.

2005-07-22  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py: add ability to treat the insert key as a
	modifier.  Use insert+F1 to enter learn mode.
	* src/orca/speech.py, src/orca/default.py,
	src/orca/speechgenerator.py: fix some speech generator issues with
	toggle buttons as well as verbosity (accidentally told the
	generators to speak too little).

2005-07-21  Willie Walker <william.walker@sun.com>

	* src/orca/Makefile.am, src/orca/orca.py, src/orca/default.py,
	src/orca/rolenames.py, src/orca/braillegenerator.py,
	src/orca/speechgenerator.py, src/orca/settings.py: add speech and
	braille generator concepts; also do a very rough (and poor) pass
	at trying to implement the output style guidelines.

	* src/orca/orca.py, src/orca/orca.in: move signal handling to
	orca.in.
	
2005-06-30  Willie Walker <william.walker@sun.com>

	* src/orca/Makefile.am, src/orca/default.py,
	src/orca/focus_tracking_presenter.py,
	src/orca/hierarchical_presenter.py, src/orca/input_event.py,
	src/orca/orca.py, src/orca/script.py, src/orca/settings.py: add
	learn mode.
	
2005-06-27  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py: Register a signal handler for ctrl-C.
	
2005-06-24  Willie Walker <william.walker@sun.com>

	* src/orca/default.py, src/orca/orca.py, src/orca/settings.py,
	src/orca/script.py: rough pass at allowing user defined
	keybindings to override key bindings in scripts.
	* TODO: update to include issues with autogen.
	
2005-06-23  Willie Walker <william.walker@sun.com>

	* src/orca/*: bite the bullet and make scripts full-fledged
	classes.  This allow scripts to better maintain state across
	activations of the same window, and to allow for more unique
	scripts when running the same application more than once.
	
2005-06-22  Willie Walker <william.walker@sun.com>

	* src/orca/*: put Orca in its own "orca" package to avoid
	cluttering the default python namespace.
	
2005-06-21  Willie Walker <william.walker@sun.com>

	* src/orca/*.py: incorporate prototype Braille support.
	
2005-06-17  Willie Walker <william.walker@sun.com>

	* src/brl/brlmodule.c,src/orca/*.py: prepare to move Braille
	region logic into Python.  The brlmodule.c will then serve
	as an interface to BrlTTY.
	
2005-06-15  Willie Walker <william.walker@sun.com>

	* src/orca/debug.py,src/orca/default.py,src/orca/orca/py: begin
	bringing Braille input back to life.
	* src/orca/*.py: try to follow the public/private naming
	convention (i.e., use "_" prefix for private fields) more.
	* src/orca/script.py: renamed "mod"-related fields to "custom"
	because I kept getting confused.
	* src/orca/focus_tracking_presenter.py,src/orca/orca.py,
	src/orca/script.py,src/orca/gaim.py: only reload a script
	when a window is activated (the current implementation was
	reloading a script for every event received).
	
2005-06-14  Willie Walker <william.walker@sun.com>

	* src/orca/a11y.py: don't set object's parent attribute if it has
	not been defined yet; instead just return None from __getattr__.
	* src/orca/focus_tracking_presenter.py: get rid of 
	"ERROR: app not found" message.
	* src/orca/debug.py: reformatting of event output.
	* src/orca/orca.py,hierarchical_presenter.py: add simple code to
	draw outlines around an accessible.  This has the impact of now
	requiring the DISPLAY to be set before running Orca.
	
2005-06-13  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py: make processKeyEvent a little (maybe not a
	lot) smarter about handling control characters.
	
2005-06-10  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py,debug.py: add the ability to filter event
	output based on a regular expression.  This is for debug purposes
	only.  The next step is to enable a keystroke in Orca to allow
	the filter to be set/reset to allow for specific event tracking.
	* src/orca/*.py: add notion of a "presentation manager" to allow
	for presentation managers such as "focus tracking", "flat review"
	and "hierarchical".  Split the current presentation code out from
	orca.py into focus_tracking_presenter.py.  Also created new (and
	very experimental) hierarchical_presenter.py to allow for some
	detailed exploration of the at-spi component hierarchy.	
	
2005-04-24  Willie Walker <william.walker@sun.com>

	* src/orca/*.py: anal-retentive refactoring and surface level
	formatting of code.

2005-04-19  Willie Walker <william.walker@sun.com>

	* src/orca/default.py: attempt at comboBoxPresenter.

2005-04-19  Willie Walker <william.walker@sun.com>

	* src/orca/default.py: fix bug in the way state_change_notifiers
	were handled (list with one item was being exploded into
	individual characters, which is not what we want), improve page
	tab presenter, update text presenter.
	* src/orca/gnome-terminal.py: remove the text event handlers
	because they were identical to default.py.
	
2005-04-19  Willie Walker <william.walker@sun.com>

	* src/orca/debug.py: allow debugLevel to be set/used on the fly
	rather than the somewhat static way it was being done.  The
	way to use it now is to "import debug" in settings.py (or anywhere
	else) and then do "debug.setDebugLevel(debug.LEVEL_CONFIGURATION)"
	somewhere else.
	* src/orca/speech.py: more gracefully recover from failures
	if/when the speech service dies.  Right now, on any failure, the
	speech module will reset and reconnect to the speech server 
	rather than just groaning about a COMM_FAILURE.
	
2005-04-15  Willie Walker <william.walker@sun.com>

	* src/orca/a11y.py: add an attempt at getting the group
	* src/orca/rolenames.py: sync up with ATK rolenames
	* src/orca/speech.py: capture CORBA failures for now
	* src/orca/default.py: passes at defaultPresenter,
	pushButtonPresenter, toggleButtonPresenter, radioButtonPresenter,
	menuBarPresenter, menuPresenter, and sliderPresenter.
	* docs/programmers-guide/programmers-guide.{sgml,pdf}: some 
	level of introduction to style.  Still much work to do when it
	comes to notions of levels of verbosity and speaker style.
	
2005-04-08  Willie Walker <william.walker@sun.com>

	* src/orca/{a11y.py, debug.py, default.py, kbd.py, metacity,py,
	orca.py, rolenames.py, speech.py}: finer grained control over
	debugging.  Debugging is now set by a numerical value rather than
	a boolean.  See debug.py for the different levels.  To turn
	debugging on, set "debugLevel = 500" (or some appropriate number)
	in settings.py.  For backwards compatibility, "debug = True" in
	this file will default to debug.LEVEL_FINER.

2005-04-05  Willie Walker <william.walker@sun.com>

	* src/orca/Makefile.am: add debug.py to orca_python_PYTHON

2005-04-01  Steve Murphy  <murf@e-tools.com>

        * configure.in: Added "rw" to ALL_LINGUAS.

2005-04-01  Willie Walker <william.walker@sun.com>

	* default-keybindings.ppy, default.py, speech.py: add sayAgain
	support to repeat last utterance spoken
	* default.py: more work to be in line with gnopernicus
	* rolenames.py: import text for speech and Braille from gnopernicus
	* speech.py: interrupt speech when given something new to say
	* mag.py: a little better (but far from perfect) way to move ROI
	to match object with focus; also add support for tracking mouse events
	
2005-03-31  Willie Walker <william.walker@sun.com>

	* gnome-terminal.py:  call default.brlUpdateText
	* a11y.py: add capability to get component extents from 
	an accessible
	* orca.py, default.py: add beginnings of magnification support
	* mag.py: early magnification support
	
2005-03-25  Willie Walker <william.walker@sun.com>

	* Upgrade to brltty-3.6.1 (TODO: perhaps add backwards
	compatibility in if people complain.).
	* Add *.pyc (compiled *.py files) to src/orca/.cvsignore.
	* Use try/except blocks more sparingly to allow for easier
	debugging.  Also add more debugging features to debug.py.
	A quite note on debugging: add "debug = True" to 
	~/.orca/settings.py to turn debugging on.
	* Fix presentation of radio and checkbox menu items.
	* Make menus speak like Gnopernicus for now.
	* Backout a11y.py workaround for Nautilus shortcomings; it turns
	out this workaround was hurting the overall logic.
	
2005-02-15  Willie Walker <william.walker@sun.com>

	* Remove src/orca/dispatcher.py as it was obsoleted by the
	  dispathcher table in a11y.py.

2005-02-15  Willie Walker <william.walker@sun.com>

	* Nearly every source file: added much documentation and many
	  TODO comments.

2005-02-10  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py (init): remove call to core.init() as this
	is done in a11y.init().  The dual call was causing orca to crash.

2005-02-10  Willie Walker <william.walker@sun.com>

	* src/orca/speech.py (init): add extra parameters to call to
	bonobo.activation.activate_from_id as a result of change to
	gnome-python on 2004-12-13.

2005-02-03  Alessio Frusciante  <algol@firenze.linux.it>

	* configure.in: Added "it" (Italian) to ALL_LINGUAS.

2004-01-17	Amanpreet Singh Alam <amanpreetalam@yahoo.com>

	* configure.in: "pa" is Added to ALL_LINGUAS

2004-10-16  Danilo egan  <dsegan@gmx.net>

	* configure.in: Added "sr" and "sr@Latn" to ALL_LINGUAS.

2004-09-09  Ankit Patel <ankit@redhat.com>

	* configure.in: Added 'gu' (Gujarati) to ALL_LINGUAS.

2004-08-27  Marc Mulcahy  <marc.mulcahy@sun.com>

	* src/orca/orca.py (init): Display an error message and exit if
	the registry can't be activated (i.E. the Orca core can't be
	initialized)

	* src/core/coremodule.c (core_module_init): Fix return values on
	exception.

2004-08-21  Francisco Javier F. Serrador  <serrador@cvs.gnome.org>

	* configure.in: Added "es" (Spanish) translation.

2004-07-14  Marc Mulcahy  <marc.mulcahy@sun.com>

	* src/orca/a11y.py (Accessible.__del__): The unref might throw a
	CORBA_COMM_FAILURE if the object has died.

2004-07-02  Hendrik Brandt  <hebra@cvs.gnome.org>

	* configure.in: Added "de" (German) to ALL_LINGUAS.

2004-06-30    <marc.mulcahy@sun.com>

	* src/orca/a11y.py (Accessible.__get_relations): New
	implementation which makes sure relations are narrowed to make
	sure things work right with Java.
	(Accessible.__get_app): Get app also fails if the thing it finds
	is not an application.
	(onWindowActivated): Make sure focussedAp is narrowed so it works
	right with Java.
	(onFocus): Since we're tracking the active application, objects
	which get focus get their app attribute set to the active
	application-- this hack is needed for Nautilus.
	(getLabel): Ensure the target that we get from a relation is an
	accessible wrapper.

	* src/orca/Gecko.py (presentNextHypertext): Fixed to use new
	accessible wrapper.
	(onFocus): Fixed to use new accessible wrapper.

	* src/orca/orca.in: Don't speak "selcome to Orca" here-- now
	spoken in orca.py in start.

2004-06-28  Christophe Merlet  <redfox@redfoxcenter.org>

	* configure.in: Added "fr" (French) to ALL_LINGUAS.

2004-06-25    <marc.mulcahy@sun.com>

	* NEWS: UPdated.

	* configure.in: UPdated version to 0.1.0.

	* src/orca/gaim.py: Updated to new accessible wrappers and script
	model.

	* src/orca/Makefile.am (orca_python_PYTHON): Added gnome-terminal
	and metacity scripts.

	* src/orca/script.py: Changed the way scripts work.  All scripts
	are loaded at once -- script activation was changed to include
	activating keybinding sets and brlKey handlers.

	* src/orca/rolenames.py (getRoleName): Use new accessible wrapper.

	* src/orca/orca.py (init): Register event listeners for tracking
	window activation/deactivation for activating/deactivating
	scripts.
	(processEvent): Changed event processing to filter all at-spi
	events through one function which decides which script should
	receive each event.

	* src/orca/default.py: UPdated to use new accesible wrappers.

	* src/orca/a11y.py: Added an accessible wrapper in pythohn. MOved
	all the listeners which update the object caches to a11y.py.

	* src/core/eventlistener.c: Don't include pyaccessible.h.

	* src/core/pyevent.c: The pyevent no longer includes a
	pyaccessible as the source -- it includes a pycorba_object.
	(pyevent_dealloc): Free the any_data.
	(pyevent_get_source): The source is now a pycora_object rather
	than a pyaccessible.

	* src/core/coremodule.c: Removed pyaccessible stuff including all
	the event handlers which refresh the cache.

	* Removed src/core/pyaccessible.c and src/core/pyaccessible.h --
	the accessible wrappers are now written in PYthon in
	src/orca/a11y.py.

2004-06-10  Marc Mulcahy  <marc.mulcahy@sun.com>

	* src/orca/Makefile.am (orca_python_PYTHON): Add a default
	settings file.

	* src/orca/speech.py (init): If the settings file does not specify
	any voices, as is the case for the default settings file, then
	select the first voice of the first driver as the default.

	* src/brl/brlmodule.c (brl_module_init): Return false rather than
	returning NULL when the brlapi library can't be found, or any
	functions within brlapi can't be found.

	* configure.in: Don't use PYTHON_PKGDIR.
	Change version number to 0.0.13.
	Generate spec file.

	* Makefile.am (EXTRA_DIST): Added spec file to the distribution.

	* NEWS: Updated.

	* orca.spec.in: Checked spec file into cvs.

	* src/orca/orca.in: Remove path fiddling which is broken when
	packaging Orca anyway.

	* src/orca/orca-setup.in: Remove path fiddling which is broken
	when packaging Orca anyway.

	* src/orca/Makefile.am (orca_path_DATA): Added orca.pth to solve
	packaging issues.

	* src/orca/Makefile.am (orca_python_PYTHON): Install orca_i18n.py
	in the right place.

2004-06-10  Gustavo Noronha Silva  <kov@debian.org>

	* configure.in: added pt_BR to ALL_LINGUAS

2004-06-08  Marc Mulcahy  <marc.mulcahy@sun.com>

	* src/orca/default.py (onWindowActivated): Lookup presenters by
	role name not role.

2004-06-02  Gareth Owen  <gowen72@yahoo.com>

	* configure.in: Added en_GB to ALL_LINGUAS

2004-05-31  Duarte Loreto <happyguy_pt@hotmail.com>

	* configure.in: Added Portuguese (pt) to ALL_LINGUAS.

2004-05-30  Adam Weinberger  <adamw@gnome.org>

	* configure.in: Added en_CA to ALL_LINGUAS.

2004-05-27  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "sv" to ALL_LINGUAS.

2004-05-26  Marc Mulcahy  <marc.mulcahy@sun.com>

	* Added .cvsignore files.

2004-05-24  Marc Mulcahy  <marc.mulcahy@sun.com>

	* README: Added section about orca-setup.

2004-05-21  Marc Mulcahy  <marc.mulcahy@sun.com>

	* Initial cvs import.
	
